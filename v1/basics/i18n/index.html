<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/docs/v1/assets/css/just-the-docs-default.css"> <style type="text/css"> .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external):nth-child(6) > .nav-list-link { display: block; font-weight: 600; text-decoration: none; background-image: linear-gradient(-90deg, #eaeaea 0%, rgba(234, 234, 234, 0.8) 80%, rgba(234, 234, 234, 0) 100%); } .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(6) > .nav-list-expander svg { transform: rotate(-90deg); } .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(6) > .nav-list { display: block; } .site-nav > .nav-category-list > .nav-list-item > .nav-list-expander svg { transform: rotate(-90deg); } .site-nav > .nav-category-list > .nav-list-item > .nav-list { display: block; } </style> <script src="/docs/v1/assets/js/vendor/lunr.min.js"></script> <script src="/docs/v1/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>I18N System | Ontimize Boot</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="I18N System" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Table of Contents" /> <meta property="og:description" content="Table of Contents" /> <link rel="canonical" href="https://ontimize.github.io/docs/v1/basics/i18n/" /> <meta property="og:url" content="https://ontimize.github.io/docs/v1/basics/i18n/" /> <meta property="og:site_name" content="Ontimize Boot" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="I18N System" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Table of Contents","headline":"I18N System","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ontimize.github.io/docs/v1/assets/icons/logo-ontimize-blanco.png"}},"url":"https://ontimize.github.io/docs/v1/basics/i18n/"}</script> <!-- End Jekyll SEO tag --> <!-- start custom head snippets --> <link rel="apple-touch-icon" sizes="57x57" href="https://ontimize.github.io/docs/v1/assets/icons/apple-icon-57x57.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="60x60" href="https://ontimize.github.io/docs/v1/assets/icons/apple-icon-60x60.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="72x72" href="https://ontimize.github.io/docs/v1/assets/icons/apple-icon-72x72.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="76x76" href="https://ontimize.github.io/docs/v1/assets/icons/apple-icon-76x76.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="114x114" href="https://ontimize.github.io/docs/v1/assets/icons/apple-icon-114x114.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="120x120" href="https://ontimize.github.io/docs/v1/assets/icons/apple-icon-120x120.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="144x144" href="https://ontimize.github.io/docs/v1/assets/icons/apple-icon-144x144.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="152x152" href="https://ontimize.github.io/docs/v1/assets/icons/apple-icon-152x152.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="180x180" href="https://ontimize.github.io/docs/v1/assets/icons/apple-icon-180x180.png?v=M44lzPylqQ"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v1/assets/icons/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v1/assets/icons/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v1/assets/icons/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v1/assets/icons/android-icon-192x192.png?v=M44lzPylqQ" sizes="192x192"> <link rel="manifest" href="https://ontimize.github.io/docs/v1/assets/icons/manifest.json?v=M44lzPylqQ"> <link rel="shortcut icon" href="/assets/icons/favicon.ico?v=M44lzPylqQ"> <meta name="msapplication-TileColor" content="#000000"> <meta name="msapplication-TileImage" content="https://ontimize.github.io/docs/v1/assets/icons/mstile-144x144.png?v=M44lzPylqQ"> <meta name="msapplication-config" content="https://ontimize.github.io/docs/v1/assets/icons/browserconfig.xml?v=M44lzPylqQ"> <meta name="theme-color" content="#ffffff"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" /> <link rel="stylesheet" href="https://ontimize.github.io/docs/v1/assets/jstree/style.min.css" /> <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> <script src="https://ontimize.github.io/docs/v1/assets/jstree/jstree.min.js"></script> <script src="https://ontimize.github.io/docs/v1/assets/js/customScript.js"></script> <!-- end custom head snippets --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/docs/v1/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="Ontimize Boot"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/docs/v1/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/docs/v1/introduction/" class="nav-list-link">Introduction</a></li><li class="nav-list-item"><a href="/docs/v1/getting_started/" class="nav-list-link">Getting started</a></li><li class="nav-list-item"><a href="/docs/v1/basics/autoconfigurators/" class="nav-list-link">Autoconfigurators</a></li><li class="nav-list-item"><a href="/docs/v1/basics/dms/" class="nav-list-link">DMS System</a></li><li class="nav-list-item"><a href="/docs/v1/basics/i18n/" class="nav-list-link">I18N System</a></li><li class="nav-list-item"><a href="/docs/v1/basics/ldap/" class="nav-list-link">LDAP Security</a></li><li class="nav-list-item"><a href="/docs/v1/basics/mail/" class="nav-list-link">Mail System</a></li><li class="nav-list-item"><a href="/docs/v1/basics/" class="nav-list-link">Ontimize Basics</a></li><li class="nav-list-item"><a href="/docs/v1/basics/security/" class="nav-list-link">Security System</a></li><li class="nav-list-item"><a href="/docs/v1/basics/applicationyml/" class="nav-list-link">Understanding application.yml</a></li><li class="nav-list-item"><a href="/docs/v1/basics/complexqueries/" class="nav-list-link">Using complex queries</a></li></ul> </nav> <footer class="site-footer"> Â© 2023 Imatia Innovation, S.L. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Ontimize Boot" aria-label="Search Ontimize Boot" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <div class="header-custom-main"> <div class="github-div"> <a href="https://github.com/Ontimize" target="_blank"> <img src="https://ontimize.github.io/docs/v1/assets/icons/github-front.svg" width="42px" height="42px" alt="Ontimize"> </a> </div> <select class="select" name="version" onchange="window.open(this.value,'_self')"> <option value="https://ontimize.github.io/docs/v1" selected> 1.x.x </option> <option value="https://ontimize.github.io/docs/v3" > 3.x.x </option> </select> </div> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <aside class="sidebar__right collapsed"> <nav id="toc" class="toc collapsed"><header> <h4 id="tocTitle" class="nav__title collapsed"> <a href="#tocTitle" class="anchor-heading" aria-labelledby="tocTitle"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of Contents </h4> </header> <ul class="toc__menu collapsed" id="markdown-toc"> <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li> <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li> <li><a href="#configuring-internationalization-service-in-ontimize-boot" id="markdown-toc-configuring-internationalization-service-in-ontimize-boot">Configuring internationalization service in Ontimize Boot</a> <ul> <li><a href="#db-configuration" id="markdown-toc-db-configuration">DB configuration</a></li> <li><a href="#add-permissions" id="markdown-toc-add-permissions">Add Permissions</a></li> <li><a href="#server-configuration" id="markdown-toc-server-configuration">Server configuration</a></li> <li><a href="#creation-of-dao-files" id="markdown-toc-creation-of-dao-files">Creation of DAO files</a></li> <li><a href="#add-i18n-rest-controller" id="markdown-toc-add-i18n-rest-controller">Add I18n Rest Controller</a></li> </ul> </li> <li><a href="#testing-the-i18n-services" id="markdown-toc-testing-the-i18n-services">Testing the i18n services</a></li> <li><a href="#uses-of-i18n-rest-controller" id="markdown-toc-uses-of-i18n-rest-controller">Uses of I18n Rest Controller</a> <ul> <li><a href="#query-bundle-values" id="markdown-toc-query-bundle-values">Query bundle values</a></li> <li><a href="#update-bundle-values" id="markdown-toc-update-bundle-values">Update bundle values</a></li> <li><a href="#insert-bundle-values" id="markdown-toc-insert-bundle-values">Insert bundle values</a></li> <li><a href="#delete-bundle-values" id="markdown-toc-delete-bundle-values">Delete bundle values</a></li> </ul> </li> </ul> </nav> </aside> <h2 id="introduction"> <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction </h2> <p>Ontimize Boot&#8217;s remote internationalization service (<strong>i18n</strong>) allows you to manage the translations of the different languages of the application without having to modify the programs translation files, by storing the translations in the database. The interfaces implemented by the service is <code class="language-plaintext highlighter-rouge">com.ontimize.jee.common.services.i18n.II18nService</code>.</p> <h2 id="prerequisites"> <a href="#prerequisites" class="anchor-heading" aria-labelledby="prerequisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites </h2> <p>There are 2 options to follow this tutorial, clone the repository with the initial state and follow the tutorial step by step, or download the final example and see which files are new and which have been updated.</p> <div class="multicolumncontent"> <div class="multicolumnnopadding"> <p><strong>Initial project</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/$ git clone https://github.com/ontimize/ontimize-examples
/ontimize-examples$ cd ontimize-examples
/ontimize-examples$ git checkout boot-i18n-1.x.x-initial
</code></pre></div></div> </div> <div class="verticalDivider"></div> <div class="multicolumnnopadding"> <p><strong>Final example</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/$ git clone https://github.com/ontimize/ontimize-examples
/ontimize-examples$ cd ontimize-examples
/ontimize-examples$ git checkout boot-i18n-1.x.x
</code></pre></div></div> </div> </div> <h2 id="configuring-internationalization-service-in-ontimize-boot"> <a href="#configuring-internationalization-service-in-ontimize-boot" class="anchor-heading" aria-labelledby="configuring-internationalization-service-in-ontimize-boot"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring internationalization service in Ontimize Boot </h2> <p>In this complete tutorial, we are going to create a backend for an application from scratch, including the database with different tables, configuring the server, creating the necessary <strong>DAO</strong> files and implementing the service.</p> <h3 id="db-configuration"> <a href="#db-configuration" class="anchor-heading" aria-labelledby="db-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DB configuration </h3> <p>If the configuration table does not exist in the DB, the database tables necessary for the operation of the service are created, one in which the names of the translation bundles shall be stored, and another in which the translations and the bundle to which they belong shall be stored:</p> <p><strong>SQL (HSQL) Statement</strong></p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">TI18N</span><span class="p">(</span><span class="n">ID_I18N</span> <span class="nb">INTEGER</span> <span class="k">GENERATED</span> <span class="k">BY</span> <span class="k">DEFAULT</span> <span class="k">AS</span> <span class="k">IDENTITY</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span><span class="n">CLASS_NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">150</span><span class="p">),</span><span class="n">I18N_DESCRIPTION</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">));</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">TI18N_VALUE</span><span class="p">(</span><span class="n">ID_I18N_VALUE</span> <span class="nb">INTEGER</span> <span class="k">GENERATED</span> <span class="k">BY</span> <span class="k">DEFAULT</span> <span class="k">AS</span> <span class="k">IDENTITY</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span><span class="n">ID_I18N</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="nv">"KEY"</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">),</span><span class="n">ES_ES</span> <span class="n">LONGVARCHAR</span><span class="p">,</span><span class="n">EN_US</span> <span class="n">LONGVARCHAR</span><span class="p">,</span><span class="n">ES_ES_GL</span> <span class="n">LONGVARCHAR</span><span class="p">);</span></code></pre></figure> <p>In the first table (the one named <strong>TI18N</strong>) we will add a bundle to link all resources of the <strong>TI18N_VALUE</strong> table.</p> <p><strong>SQL (HSQL) Statement</strong></p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="n">CLASS_NAME</span><span class="p">,</span> <span class="n">I18N_DESCRIPTION</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">'i18n.bundle'</span><span class="p">,</span> <span class="s1">'Resource bundle in database'</span><span class="p">);</span></code></pre></figure> <p>In the case of the second table (the one named <strong>TI18N_VALUE</strong>) it will contain a column with the name of each Locale accepted by the application.</p> <p><strong>SQL (HSQL) Statement</strong></p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'ID'</span><span class="p">,</span><span class="s1">'Id. Candidato'</span><span class="p">,</span><span class="s1">'Candidate id'</span><span class="p">,</span><span class="s1">'Id. Candidato'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'PHOTO'</span><span class="p">,</span><span class="s1">'Foto'</span><span class="p">,</span><span class="s1">'Photo'</span><span class="p">,</span><span class="s1">'Foto'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'NAME'</span><span class="p">,</span><span class="s1">'Nombre'</span><span class="p">,</span><span class="s1">'Name'</span><span class="p">,</span><span class="s1">'Nome'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'SURNAME'</span><span class="p">,</span><span class="s1">'Apellido'</span><span class="p">,</span><span class="s1">'Surname'</span><span class="p">,</span><span class="s1">'Apelido'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'BIRTHDAY'</span><span class="p">,</span><span class="s1">'Fecha de Nacimiento'</span><span class="p">,</span><span class="s1">'Birthday'</span><span class="p">,</span><span class="s1">'Data de nacemento'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'DNI'</span><span class="p">,</span><span class="s1">'DNI Candidato'</span><span class="p">,</span><span class="s1">'Candidate DNI'</span><span class="p">,</span><span class="s1">'DNI Candidato'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'PHONE'</span><span class="p">,</span><span class="s1">'Telefono'</span><span class="p">,</span><span class="s1">'Phone'</span><span class="p">,</span><span class="s1">'Telefono'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TI18N_VALUE</span> <span class="p">(</span><span class="n">ID_I18N</span><span class="p">,</span> <span class="k">KEY</span><span class="p">,</span> <span class="n">ES_ES</span><span class="p">,</span> <span class="n">EN_US</span><span class="p">,</span> <span class="n">GL_ES</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">'EMAIL'</span><span class="p">,</span><span class="s1">'Correo electronico'</span><span class="p">,</span><span class="s1">'E-mail'</span><span class="p">,</span><span class="s1">'Correo electronico'</span><span class="p">);</span></code></pre></figure> <h3 id="add-permissions"> <a href="#add-permissions" class="anchor-heading" aria-labelledby="add-permissions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add Permissions </h3> <p>The <code class="language-plaintext highlighter-rouge">com.ontimize.jee.server.services.i18n.I18nServiceImpl</code> service has several methods that we will have to add to the permissions to be able to execute the methods.</p> <p><strong>SQL (HSQL) Statement</strong></p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.i18n.I18nServiceImpl/getAllResourceBundles'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.i18n.I18nServiceImpl/getBundles'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.i18n.I18nServiceImpl/getBundle'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.i18n.I18nServiceImpl/getAvailableBundles'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.i18n.I18nServiceImpl/getAvailableLocales'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.i18n.I18nServiceImpl/updateBundleValues'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.i18n.I18nServiceImpl/deleteBundleValues'</span><span class="p">);</span></code></pre></figure> <p>Add all permissions to the user role <code class="language-plaintext highlighter-rouge">demo</code>.</p> <p><strong>SQL (HSQL) Statement</strong></p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">INSERT</span>
	<span class="k">INTO</span>
	<span class="n">TROLE_SERVER_PERMISSION</span> <span class="n">tsp</span> <span class="p">(</span><span class="n">ID_SERVER_PERMISSION</span><span class="p">,</span> <span class="n">ID_ROLENAME</span><span class="p">)</span>
<span class="k">SELECT</span>
	<span class="n">ID_SERVER_PERMISSION</span><span class="p">,</span>
	<span class="p">(</span>
	<span class="k">SELECT</span>
		<span class="n">ID_ROLENAME</span>
	<span class="k">FROM</span>
		<span class="n">TUSER_ROLE</span>
	<span class="k">WHERE</span>
		<span class="n">USER_</span> <span class="o">=</span> <span class="s1">'demo'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">ID_ROLENAME</span>
<span class="k">FROM</span>
	<span class="n">TSERVER_PERMISSION</span> <span class="n">tp</span>
<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">TROLE_SERVER_PERMISSION</span> <span class="n">tsp</span> <span class="k">ON</span>
	<span class="n">tp</span><span class="p">.</span><span class="n">ID_SERVER_PERMISSION</span> <span class="o">=</span> <span class="n">tsp</span><span class="p">.</span><span class="n">ID_SERVER_PERMISSION</span>
<span class="k">WHERE</span>
	<span class="n">tsp</span><span class="p">.</span><span class="n">ID_SERVER_PERMISSION</span> <span class="k">IS</span> <span class="k">NULL</span></code></pre></figure> <h3 id="server-configuration"> <a href="#server-configuration" class="anchor-heading" aria-labelledby="server-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Server configuration </h3> <p>To configure this service, a new configuration fragment shall be added to the application.yml file.</p> <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">ontimize</span><span class="pi">:</span>
  <span class="na">i18n</span><span class="pi">:</span>
    <span class="na">refBundleRepository</span><span class="pi">:</span> <span class="s">OCDatabaseBundleDao</span>
    <span class="na">bundleKeyColumn</span><span class="pi">:</span> <span class="s">ID_I18N</span>
    <span class="na">bundleClassNameColumn</span><span class="pi">:</span> <span class="s">CLASS_NAME</span>
    <span class="na">bundleDescriptionColumn</span><span class="pi">:</span> <span class="s">I18N_DESCRIPTION</span>
    <span class="na">refBundleValueRepository</span><span class="pi">:</span> <span class="s">OCDatabaseBundleValueDao</span>
    <span class="na">bundleValueTextKeyColumn</span><span class="pi">:</span> <span class="s">KEY</span>
    <span class="na">bundleValueKeyColumn</span><span class="pi">:</span> <span class="s">ID_I18N_VALUE</span>
    <span class="na">engine</span><span class="pi">:</span> <span class="s">default</span></code></pre></figure> <p>This configuration indicates the keys and values to be stored in the database. The database table is the one corresponding to the bean described in the <strong>refBundleRepository: OCDatabaseBundleDao</strong> attribute.</p> <h3 id="creation-of-dao-files"> <a href="#creation-of-dao-files" class="anchor-heading" aria-labelledby="creation-of-dao-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Creation of DAO files </h3> <p>It is necessary to create the <strong>DAO</strong>s that reflect the new DB tables we have created.</p> <div class="multicolumn"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <span class="material-symbols-outlined">right_panel_open</span> </button> <p>First we will create the *.xml files.</p> <p><strong>OCDatabaseBundleDao.xml</strong></p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<span class="nt">&lt;JdbcEntitySetup</span>
	<span class="na">xmlns=</span><span class="s">"http://www.ontimize.com/schema/jdbc"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"</span>
	<span class="na">table=</span><span class="s">"TI18N"</span> <span class="na">datasource=</span><span class="s">"mainDataSource"</span>
	<span class="na">catalog=</span><span class="s">""</span> <span class="na">schema=</span><span class="s">"${mainschema}"</span>
	<span class="na">sqlhandler=</span><span class="s">"dbSQLStatementHandler"</span><span class="nt">&gt;</span>
<span class="nt">&lt;DeleteKeys&gt;</span>
<span class="nt">&lt;Column&gt;</span>ID_I18N<span class="nt">&lt;/Column&gt;</span>
<span class="nt">&lt;/DeleteKeys&gt;</span>
<span class="nt">&lt;UpdateKeys&gt;</span>
<span class="nt">&lt;Column&gt;</span>ID_I18N<span class="nt">&lt;/Column&gt;</span>
<span class="nt">&lt;/UpdateKeys&gt;</span>
<span class="nt">&lt;GeneratedKey&gt;</span>ID_I18N<span class="nt">&lt;/GeneratedKey&gt;</span>
<span class="nt">&lt;/JdbcEntitySetup&gt;</span></code></pre></figure> <p><strong>OCDatabaseBundleValueDao.xml</strong></p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<span class="nt">&lt;JdbcEntitySetup</span>
	<span class="na">xmlns=</span><span class="s">"http://www.ontimize.com/schema/jdbc"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"</span>
	<span class="na">table=</span><span class="s">"TI18N_VALUE"</span> <span class="na">datasource=</span><span class="s">"mainDataSource"</span>
	<span class="na">catalog=</span><span class="s">""</span> <span class="na">schema=</span><span class="s">"${mainschema}"</span>
	<span class="na">sqlhandler=</span><span class="s">"dbSQLStatementHandler"</span><span class="nt">&gt;</span>
<span class="nt">&lt;DeleteKeys&gt;</span>
<span class="nt">&lt;Column&gt;</span>ID_I18N<span class="nt">&lt;/Column&gt;</span>
<span class="nt">&lt;Column&gt;</span>KEY<span class="nt">&lt;/Column&gt;</span>
<span class="nt">&lt;/DeleteKeys&gt;</span>
<span class="nt">&lt;UpdateKeys&gt;</span>
<span class="nt">&lt;Column&gt;</span>ID_I18N<span class="nt">&lt;/Column&gt;</span>
<span class="nt">&lt;Column&gt;</span>KEY<span class="nt">&lt;/Column&gt;</span>
<span class="nt">&lt;/UpdateKeys&gt;</span>
<span class="nt">&lt;GeneratedKey&gt;</span>ID_I18N_VALUE<span class="nt">&lt;/GeneratedKey&gt;</span>
<span class="nt">&lt;/JdbcEntitySetup&gt;</span></code></pre></figure> <p>In the *.java files we indicate that it is a repository whose name will be <em>OCDatabaseBundleDao</em> and <em>OCDatabaseBundleValueDao</em> respectively, using the <code class="language-plaintext highlighter-rouge">@Repository</code> annotation. With the <code class="language-plaintext highlighter-rouge">@Lazy</code> annotation, we indicate that the loading is delayed until it is completely necessary, and the <code class="language-plaintext highlighter-rouge">@ConfigurationFile</code> annotation allows us to configure this <strong>DAO</strong> using the <strong>XML</strong> file and an additional file where some features common to several <strong>DAO</strong>s can be stored, such as the schema they belong to.</p> <p><strong>OCDatabaseBundleDao.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.model.core.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Lazy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.common.ConfigurationFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.jdbc.OntimizeJdbcDaoSupport</span><span class="o">;</span>

<span class="nd">@Repository</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"OCDatabaseBundleDao"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="nd">@ConfigurationFile</span><span class="o">(</span><span class="n">configurationFile</span> <span class="o">=</span> <span class="s">"dao/OCDatabaseBundleDao.xml"</span><span class="o">,</span> <span class="n">configurationFilePlaceholder</span> <span class="o">=</span> <span class="s">"dao/placeholders.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OCDatabaseBundleDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="nf">OCDatabaseBundleDao</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure> <p><strong>OCDatabaseBundleValueDao.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.model.core.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Lazy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.common.ConfigurationFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.jdbc.OntimizeJdbcDaoSupport</span><span class="o">;</span>

<span class="nd">@Repository</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"OCDatabaseBundleValueDao"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="nd">@ConfigurationFile</span><span class="o">(</span><span class="n">configurationFile</span> <span class="o">=</span> <span class="s">"dao/OCDatabaseBundleValueDao.xml"</span><span class="o">,</span> <span class="n">configurationFilePlaceholder</span> <span class="o">=</span> <span class="s">"dao/placeholders.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OCDatabaseBundleValueDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="nf">OCDatabaseBundleValueDao</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.lck</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.log</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.script</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleDao.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleValueDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleDao.xml</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleValueDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> <h3 id="add-i18n-rest-controller"> <a href="#add-i18n-rest-controller" class="anchor-heading" aria-labelledby="add-i18n-rest-controller"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add I18n Rest Controller </h3> <div class="multicolumn"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <span class="material-symbols-outlined">right_panel_open</span> </button> <p><strong>I18nRestController.java</strong></p> <p>As two implementations of the interface are needed, we use the <code class="language-plaintext highlighter-rouge">@Qualifier</code> annotation to specify which is the correct <code class="language-plaintext highlighter-rouge">bean</code> so that it can be launched correctly.</p> <p>With the tag <code class="language-plaintext highlighter-rouge">@RequestMapping</code> we indicate the route through which the rest service will receive the requests. With the tag <code class="language-plaintext highlighter-rouge">@RequestBody</code> we receive the data that were sent in the rest request. In this class we create a method that retrieves the translations of a bundle that we have specified in the language that we have indicated.</p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.ws.core.rest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Enumeration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Hashtable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Locale</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ResourceBundle</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Qualifier</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.ComponentScan</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.HttpStatus</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.MediaType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.ResponseEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestBody</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMethod</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.db.EntityResult</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.services.i18n.II18nService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.rest.InsertParameter</span><span class="o">;</span>

<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/i18n"</span><span class="o">)</span>
<span class="nd">@ComponentScan</span><span class="o">(</span><span class="n">basePackageClasses</span> <span class="o">=</span> <span class="o">{</span> <span class="n">com</span><span class="o">.</span><span class="na">ontimize</span><span class="o">.</span><span class="na">jee</span><span class="o">.</span><span class="na">common</span><span class="o">.</span><span class="na">services</span><span class="o">.</span><span class="na">i18n</span><span class="o">.</span><span class="na">II18nService</span><span class="o">.</span><span class="na">class</span> <span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">I18nRestController</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="nd">@Qualifier</span><span class="o">(</span><span class="s">"I18nService"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">II18nService</span> <span class="n">iI18nService</span><span class="o">;</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/bundle"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">,</span> <span class="n">produces</span> <span class="o">=</span> <span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">EntityResult</span><span class="o">&gt;</span> <span class="nf">getBundle</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">InsertParameter</span> <span class="n">parameter</span><span class="o">)</span> <span class="o">{</span>
    	<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">parameter</span><span class="o">.</span><span class="na">getData</span><span class="o">();</span>
    	<span class="nc">ResourceBundle</span> <span class="n">resource</span> <span class="o">=</span> <span class="n">iI18nService</span><span class="o">.</span><span class="na">getBundle</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"bundle"</span><span class="o">)),</span>
    			<span class="k">new</span> <span class="nf">Locale</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"lang"</span><span class="o">)),</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">data</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"country"</span><span class="o">))));</span>
    	<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">EntityResult</span><span class="o">&gt;(</span><span class="n">bundleToEntityResult</span><span class="o">(</span><span class="n">resource</span><span class="o">),</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nc">EntityResult</span> <span class="nf">bundleToEntityResult</span><span class="o">(</span><span class="nc">ResourceBundle</span> <span class="n">resource</span><span class="o">)</span> <span class="o">{</span>
    	<span class="nc">Hashtable</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">table</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Hashtable</span><span class="o">&lt;&gt;();</span>
    	<span class="nc">Enumeration</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">keys</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="na">getKeys</span><span class="o">();</span>
    	<span class="nc">EntityResult</span> <span class="n">eR</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">EntityResult</span><span class="o">();</span>
    	<span class="k">while</span> <span class="o">(</span><span class="n">keys</span><span class="o">.</span><span class="na">hasMoreElements</span><span class="o">())</span> <span class="o">{</span>
    		<span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">keys</span><span class="o">.</span><span class="na">nextElement</span><span class="o">();</span>
    		<span class="n">table</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"key"</span><span class="o">,</span> <span class="n">key</span><span class="o">);</span>
    		<span class="n">table</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"value"</span><span class="o">,</span> <span class="n">resource</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">key</span><span class="o">));</span>
    		<span class="n">eR</span><span class="o">.</span><span class="na">addRecord</span><span class="o">(</span><span class="n">table</span><span class="o">);</span>
    		<span class="n">table</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Hashtable</span><span class="o">&lt;&gt;();</span>
    	<span class="o">}</span>
    	<span class="k">return</span> <span class="n">eR</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.lck</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.log</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.script</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleValueDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleValueDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">I18nRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </li> </ul> </div> </div> <h2 id="testing-the-i18n-services"> <a href="#testing-the-i18n-services" class="anchor-heading" aria-labelledby="testing-the-i18n-services"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing the i18n services </h2> <p>To test the i18n service we will use REST requests. For this, the following query will be executed: <strong>localhost:33333/i18n/bundle</strong></p> <div class="table-wrapper"><table> <thead> <tr> <th>Element</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td>localhost:33333</td> <td>Indicates the host</td> </tr> <tr> <td>/i18n</td> <td>Indicates the service to be queried</td> </tr> <tr> <td>/bundle</td> <td>Indicates the request mapping class</td> </tr> </tbody> </table></div> <p>The request types can only be <em>POST</em> and the request body has to have the following structure:</p> <div class="table-wrapper"><table> <thead> <tr> <th>Element</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td>bundle</td> <td>Indicates the class name of the bundle specified in the database</td> </tr> <tr> <td>lang</td> <td>Indicates the language of the bundle. It needs to be lowercase.</td> </tr> <tr> <td>country</td> <td>Indicates the country of the language. It needs to be uppercase.</td> </tr> </tbody> </table></div> <div class="table-wrapper"><table> <thead> <tr> <th>Request type</th> <th>Query</th> <th>URL</th> <th>Service method</th> <th>Body request</th> </tr> </thead> <tbody> <tr> <td>POST</td> <td>query</td> <td>localhost:33333/i18n/bundle</td> <td>getBundle</td> <td>Example below</td> </tr> </tbody> </table></div> <p><strong>Body request:</strong></p> <figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bundle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i18n.bundle"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lang"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure> <p>The authorization used for these requests is authorization of the type BASIC. In this case, the access must be done with a user and password example:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    User: demo
Password: demouser
</code></pre></div></div> <h2 id="uses-of-i18n-rest-controller"> <a href="#uses-of-i18n-rest-controller" class="anchor-heading" aria-labelledby="uses-of-i18n-rest-controller"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Uses of I18n Rest Controller </h2> <p>The i18n interface has a few methods for managing bundles or translations. Next in this example, we will test the bundle values CRUD(Create, Read, Update, Delete) methods.</p> <blockquote class="note"> <p>To simplify the code being written, three dots (&#8230;) may appear in some parts of the code. This indicates that there may be previous code before and after those dots.</p> </blockquote> <h3 id="query-bundle-values"> <a href="#query-bundle-values" class="anchor-heading" aria-labelledby="query-bundle-values"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Query bundle values </h3> <p>To query the bundle values we create a method that receieves the bundle class, the language to query and the country of this language.</p> <blockquote class="note"> <p>The code to query the values of a bundle is in the previous <a href="https://ontimize.github.io/docs/v1/basics/i18n/#add-i18n-rest-controller">section</a>.</p> </blockquote> <h3 id="update-bundle-values"> <a href="#update-bundle-values" class="anchor-heading" aria-labelledby="update-bundle-values"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Update bundle values </h3> <p>To update the bundle values we create a method that receieves the translations to modify of a bundle that we have specified.</p> <p><strong>Code</strong></p> <div class="multicolumn"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <span class="material-symbols-outlined">right_panel_open</span> </button> <p><strong>I18nRestController.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.ws.core.rest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Hashtable</span><span class="o">;</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.gui.i18n.DatabaseBundleValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.rest.UpdateParameter</span><span class="o">;</span>

<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/i18n"</span><span class="o">)</span>
<span class="nd">@ComponentScan</span><span class="o">(</span><span class="n">basePackageClasses</span> <span class="o">=</span> <span class="o">{</span> <span class="n">com</span><span class="o">.</span><span class="na">ontimize</span><span class="o">.</span><span class="na">jee</span><span class="o">.</span><span class="na">common</span><span class="o">.</span><span class="na">services</span><span class="o">.</span><span class="na">i18n</span><span class="o">.</span><span class="na">II18nService</span><span class="o">.</span><span class="na">class</span> <span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">I18nRestController</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="nd">@Qualifier</span><span class="o">(</span><span class="s">"I18nService"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">II18nService</span> <span class="n">iI18nService</span><span class="o">;</span>

<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/bundle/update"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">PUT</span><span class="o">,</span> <span class="n">produces</span> <span class="o">=</span> <span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateBundleValues</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">UpdateParameter</span> <span class="n">parameter</span><span class="o">)</span> <span class="o">{</span>

    	<span class="nc">DatabaseBundleValues</span> <span class="n">values</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DatabaseBundleValues</span><span class="o">(</span><span class="n">iI18nService</span><span class="o">.</span><span class="na">getAvailableLocales</span><span class="o">());</span>
    	<span class="nc">String</span> <span class="n">bundleClass</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">parameter</span><span class="o">.</span><span class="na">getData</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"bundleClass"</span><span class="o">));</span>
    	<span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">parameter</span><span class="o">.</span><span class="na">getFilter</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"key"</span><span class="o">));</span>
    	<span class="nc">ArrayList</span> <span class="n">e</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ArrayList</span><span class="o">)</span> <span class="n">parameter</span><span class="o">.</span><span class="na">getData</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"bundleValues"</span><span class="o">);</span>
    	<span class="nc">Hashtable</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">translationValues</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Hashtable</span><span class="o">&lt;&gt;();</span>
    	<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">e</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
    		<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Object</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;)</span> <span class="n">e</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
    		<span class="n">translationValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"language"</span><span class="o">)),</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"value"</span><span class="o">));</span>
    	<span class="o">}</span>
    	<span class="n">values</span><span class="o">.</span><span class="na">addBundleValue</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">bundleClass</span><span class="o">,</span> <span class="n">translationValues</span><span class="o">);</span>
    	<span class="n">iI18nService</span><span class="o">.</span><span class="na">updateBundleValues</span><span class="o">(</span><span class="n">values</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleValueDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleValueDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">I18nRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> <p><strong>REST request</strong></p> <p>The request to execute is the following: <strong>localhost:33333/i18n/bundle/update</strong></p> <div class="table-wrapper"><table> <thead> <tr> <th>Element</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td>localhost:33333</td> <td>Indicates the host</td> </tr> <tr> <td>/i18n</td> <td>Indicates the service to be queried</td> </tr> <tr> <td>/bundle/update</td> <td>Indicates the request mapping class</td> </tr> </tbody> </table></div> <p>The request types can only be <em>PUT</em> and the request body has to have the following structure:</p> <div class="table-wrapper"><table> <thead> <tr> <th>Element</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td>key</td> <td>Indicates the key of the value to be translated.</td> </tr> <tr> <td>bundleClass</td> <td>Indicates the class name of the bundle specified in the database.</td> </tr> <tr> <td>bundleValues</td> <td>Indicates the values of the translation to be modified.</td> </tr> </tbody> </table></div> <p><strong>Body request:</strong></p> <figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"filter"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="w">
  </span><span class="p">},</span><span class="w">  
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bundleClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i18n.bundle"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bundleValues"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
      </span><span class="nl">"language"</span><span class="p">:</span><span class="s2">"es_ES"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"ejemplo@ejemplo.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
      </span><span class="nl">"language"</span><span class="p">:</span><span class="s2">"en_US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"example@example.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
      </span><span class="nl">"language"</span><span class="p">:</span><span class="s2">"gl_ES"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"exemplo@exemplo.com"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure> <h3 id="insert-bundle-values"> <a href="#insert-bundle-values" class="anchor-heading" aria-labelledby="insert-bundle-values"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Insert bundle values </h3> <p>The method to update the bundle values explained in the previous point also allows creating a new value in the case of the specified value does not exist in the database.</p> <p><strong>DatabaseI18nEngine.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
<span class="nc">Object</span> <span class="n">key</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getBundleValueKey</span><span class="o">(</span><span class="n">filter</span><span class="o">);</span>
<span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
<span class="c1">// update</span>
<span class="n">filter</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">bundleValuesKeyColumn</span><span class="o">,</span> <span class="n">key</span><span class="o">);</span>
<span class="k">this</span><span class="o">.</span><span class="na">daoBundleValues</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">hValues</span><span class="o">,</span> <span class="n">filter</span><span class="o">);</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
<span class="c1">// insert</span>
<span class="n">hValues</span><span class="o">.</span><span class="na">putAll</span><span class="o">(</span><span class="n">filter</span><span class="o">);</span>
<span class="k">this</span><span class="o">.</span><span class="na">daoBundleValues</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">hValues</span><span class="o">);</span>
<span class="o">}</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span></code></pre></figure> <h3 id="delete-bundle-values"> <a href="#delete-bundle-values" class="anchor-heading" aria-labelledby="delete-bundle-values"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Delete bundle values </h3> <p>To delete the bundle values we create a method that receives the bundle class and the key of the bundle values.</p> <div class="multicolumn"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <span class="material-symbols-outlined">right_panel_open</span> </button> <p><strong>I18nRestController.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.ws.core.rest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.gui.i18n.DatabaseBundleValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.rest.DeleteParameter</span><span class="o">;</span>

<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/i18n"</span><span class="o">)</span>
<span class="nd">@ComponentScan</span><span class="o">(</span><span class="n">basePackageClasses</span> <span class="o">=</span> <span class="o">{</span> <span class="n">com</span><span class="o">.</span><span class="na">ontimize</span><span class="o">.</span><span class="na">jee</span><span class="o">.</span><span class="na">common</span><span class="o">.</span><span class="na">services</span><span class="o">.</span><span class="na">i18n</span><span class="o">.</span><span class="na">II18nService</span><span class="o">.</span><span class="na">class</span> <span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">I18nRestController</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="nd">@Qualifier</span><span class="o">(</span><span class="s">"I18nService"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">II18nService</span> <span class="n">iI18nService</span><span class="o">;</span>

<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/bundle/delete"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">DELETE</span><span class="o">,</span> <span class="n">produces</span> <span class="o">=</span> <span class="nc">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteBundleValues</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">DeleteParameter</span> <span class="n">parameter</span><span class="o">)</span> <span class="o">{</span>
    	<span class="nc">DatabaseBundleValues</span> <span class="n">values</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DatabaseBundleValues</span><span class="o">(</span><span class="n">iI18nService</span><span class="o">.</span><span class="na">getAvailableLocales</span><span class="o">());</span>

    	<span class="nc">String</span> <span class="n">bundleClass</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">parameter</span><span class="o">.</span><span class="na">getFilter</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"bundleClass"</span><span class="o">));</span>
    	<span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">parameter</span><span class="o">.</span><span class="na">getFilter</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"key"</span><span class="o">));</span>

    	<span class="n">values</span><span class="o">.</span><span class="na">addBundleValue</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">bundleClass</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
    	<span class="n">iI18nService</span><span class="o">.</span><span class="na">deleteBundleValues</span><span class="o">(</span><span class="n">values</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleValueDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">OCDatabaseBundleValueDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">I18nRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v1/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> <p>The request to execute is the following: <strong>localhost:33333/i18n/bundle/delete</strong></p> <div class="table-wrapper"><table> <thead> <tr> <th>Element</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td>localhost:33333</td> <td>Indicates the host</td> </tr> <tr> <td>/i18n</td> <td>Indicates the service to be queried</td> </tr> <tr> <td>/bundle/delete</td> <td>Indicates the request mapping class</td> </tr> </tbody> </table></div> <p>The request types can only be <em>DELETE</em> and the request body has to have the following structure:</p> <div class="table-wrapper"><table> <thead> <tr> <th>Element</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td>bundleClass</td> <td>Indicates the class name of the bundle specified in the database.</td> </tr> <tr> <td>key</td> <td>Indicates the key of the value to be translated.</td> </tr> </tbody> </table></div> <p><strong>Body Request</strong></p> <figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"filter"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"bundleClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i18n.bundle"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EMAIL"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
