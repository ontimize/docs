<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/docs/v3/assets/css/just-the-docs-default.css"> <style type="text/css"> .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external):nth-child(5) > .nav-list > .nav-list-item:nth-child(6) > .nav-list-link { display: block; font-weight: 600; text-decoration: none; background-image: linear-gradient(-90deg, #eaeaea 0%, rgba(234, 234, 234, 0.8) 80%, rgba(234, 234, 234, 0) 100%); } .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list-expander svg, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list > .nav-list-item:nth-child(6) > .nav-list-expander svg { transform: rotate(-90deg); } .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list > .nav-list-item:nth-child(6) > .nav-list { display: block; } .site-nav > .nav-category-list > .nav-list-item > .nav-list-expander svg { transform: rotate(-90deg); } .site-nav > .nav-category-list > .nav-list-item > .nav-list { display: block; } </style> <script src="/docs/v3/assets/js/vendor/lunr.min.js"></script> <script src="/docs/v3/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Mail System | Ontimize Boot</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="Mail System" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Table of Contents" /> <meta property="og:description" content="Table of Contents" /> <link rel="canonical" href="https://ontimize.github.io/docs/v3/systems/mail/" /> <meta property="og:url" content="https://ontimize.github.io/docs/v3/systems/mail/" /> <meta property="og:site_name" content="Ontimize Boot" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Mail System" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Table of Contents","headline":"Mail System","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ontimize.github.io/docs/v3/assets/icons/logo-ontimize-blanco.png"}},"url":"https://ontimize.github.io/docs/v3/systems/mail/"}</script> <!-- End Jekyll SEO tag --> <!-- start custom head snippets --> <link rel="apple-touch-icon" sizes="57x57" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-57x57.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="60x60" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-60x60.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="72x72" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-72x72.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="76x76" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-76x76.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="114x114" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-114x114.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="120x120" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-120x120.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="144x144" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-144x144.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="152x152" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-152x152.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="180x180" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-180x180.png?v=M44lzPylqQ"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v3/assets/icons/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v3/assets/icons/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v3/assets/icons/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v3/assets/icons/android-icon-192x192.png?v=M44lzPylqQ" sizes="192x192"> <link rel="manifest" href="https://ontimize.github.io/docs/v3/assets/icons/manifest.json?v=M44lzPylqQ"> <link rel="shortcut icon" href="/assets/icons/favicon.ico?v=M44lzPylqQ"> <meta name="msapplication-TileColor" content="#000000"> <meta name="msapplication-TileImage" content="https://ontimize.github.io/docs/v3/assets/icons/mstile-144x144.png?v=M44lzPylqQ"> <meta name="msapplication-config" content="https://ontimize.github.io/docs/v3/assets/icons/browserconfig.xml?v=M44lzPylqQ"> <meta name="theme-color" content="#ffffff"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" /> <link rel="stylesheet" href="https://ontimize.github.io/docs/v3/assets/jstree/style.min.css" /> <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> <script src="https://ontimize.github.io/docs/v3/assets/jstree/jstree.min.js"></script> <script src="https://ontimize.github.io/docs/v3/assets/js/customScript.js"></script> <!-- end custom head snippets --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/docs/v3/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="Ontimize Boot"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/docs/v3/" class="nav-list-link">Home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Introduction category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/introduction/" class="nav-list-link">Introduction</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/v3/prerequisites/" class="nav-list-link">Prerequisites</a></li><li class="nav-list-item"><a href="/docs/v3/getting_started/" class="nav-list-link">Getting started</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tutorial category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/tutorial/" class="nav-list-link">Tutorial</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise1" class="nav-list-link">Preparing base project</a></li><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise2" class="nav-list-link">Structure of an Ontimize Boot application</a></li><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise3" class="nav-list-link">Understanding the application.yml file</a></li><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise4" class="nav-list-link">Creating DAO, Service and Controller</a></li><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise5" class="nav-list-link">Service master</a></li><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise6" class="nav-list-link">Understanding the EntityResult</a></li><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise7" class="nav-list-link">CRUD operations, transactions</a></li><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise8" class="nav-list-link">Adding new services</a></li><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise9" class="nav-list-link">Use of Basic Expression and new methods</a></li><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise10" class="nav-list-link">Use of complex queries</a></li><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise11" class="nav-list-link">Use server permission</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Basics category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/basics/" class="nav-list-link">Basics</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/v3/basics/autoconfigurators/" class="nav-list-link">Autoconfigurators</a></li><li class="nav-list-item"><a href="/docs/v3/basics/charts-on-demand" class="nav-list-link">Charts On Demand</a></li><li class="nav-list-item"><a href="/docs/v3/basics/complexqueries/" class="nav-list-link">Complex queries</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Export data category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/basics/exportdata/" class="nav-list-link">Export data</a><ul class="nav-list"><li class="nav-list-item"> <a href="/docs/v3/basics/exportdata/export-data-to-csv" class="nav-list-link">Export data to csv</a> </li><li class="nav-list-item"> <a href="/docs/v3/basics/exportdata/export-data-to-xlsx" class="nav-list-link">Export data to xlsx</a> </li><li class="nav-list-item"> <a href="/docs/v3/basics/exportdata/export-data-to-pdf" class="nav-list-link">Export data to pdf</a> </li></ul></li><li class="nav-list-item"><a href="/docs/v3/basics/migration/" class="nav-list-link">Migration from Ontimize 1.x.x to 3.x.x</a></li><li class="nav-list-item"><a href="/docs/v3/basics/multipledatasources/" class="nav-list-link">Multiple Datasources</a></li><li class="nav-list-item"><a href="/docs/v3/basics/applicationyml/" class="nav-list-link">Understanding application.yml</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Systems category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/systems/" class="nav-list-link">Systems</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/v3/systems/asynctask/" class="nav-list-link">Async Tasks</a></li><li class="nav-list-item"><a href="/docs/v3/systems/dms/" class="nav-list-link">DMS System</a></li><li class="nav-list-item"><a href="/docs/v3/systems/sdms/" class="nav-list-link">SDMS System</a></li><li class="nav-list-item"><a href="/docs/v3/systems/i18n/" class="nav-list-link">I18N System</a></li><li class="nav-list-item"><a href="/docs/v3/systems/ldap" class="nav-list-link">LDAP Security</a></li><li class="nav-list-item"><a href="/docs/v3/systems/mail/" class="nav-list-link">Mail System</a></li><li class="nav-list-item"><a href="/docs/v3/systems/preferences/" class="nav-list-link">Preferences System</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Reports category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/systems/reports/" class="nav-list-link">Reports</a><ul class="nav-list"><li class="nav-list-item"> <a href="/docs/v3/systems/reports/report-store" class="nav-list-link">Report Store</a> </li><li class="nav-list-item"> <a href="/docs/v3/systems/reports/report-on-demand" class="nav-list-link">Report On Demand</a> </li></ul></li><li class="nav-list-item"><a href="/docs/v3/systems/security/" class="nav-list-link">Security System</a></li></ul></li><li class="nav-list-item"><a href="/docs/v3/versions/" class="nav-list-link">Versions</a></li></ul> </nav> <footer class="site-footer"> © 2023 Imatia Innovation, S.L. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Ontimize Boot" aria-label="Search Ontimize Boot" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <div class="header-custom-main"> <div class="github-div"> <a href="https://github.com/Ontimize" target="_blank"> <img src="https://ontimize.github.io/docs/v3/assets/icons/github-front.svg" width="42px" height="42px" alt="Ontimize"> </a> </div> <select class="select" name="version" onchange="window.open(this.value,'_self')"> <option value="https://ontimize.github.io/docs/v1" > 1.x.x </option> <option value="https://ontimize.github.io/docs/v3" selected> 3.x.x </option> </select> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/docs/v3/systems/">Systems</a></li> <li class="breadcrumb-nav-list-item"><span>Mail System</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <aside class="sidebar__right collapsed"> <nav id="toc" class="toc collapsed"><header> <h4 id="tocTitle" class="nav__title collapsed"> <a href="#tocTitle" class="anchor-heading" aria-labelledby="tocTitle"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of Contents </h4> </header> <ul class="toc__menu collapsed" id="markdown-toc"> <li><a href="#mail-system" id="markdown-toc-mail-system">Mail System</a> <ul> <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li> <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li> <li><a href="#configuring-email-service-with-ontimize-boot" id="markdown-toc-configuring-email-service-with-ontimize-boot">Configuring email service with Ontimize Boot</a> <ul> <li><a href="#db-configuration" id="markdown-toc-db-configuration">DB configuration</a></li> <li><a href="#adding-dependencies" id="markdown-toc-adding-dependencies">Adding dependencies</a></li> <li><a href="#server-configuration" id="markdown-toc-server-configuration">Server Configuration</a></li> <li><a href="#creation-of-dao-files" id="markdown-toc-creation-of-dao-files">Creation of DAO files</a></li> <li><a href="#implementation-in-an-existing-service" id="markdown-toc-implementation-in-an-existing-service">Implementation in an existing service</a></li> </ul> </li> <li><a href="#checking-the-sending-of-mails" id="markdown-toc-checking-the-sending-of-mails">Checking the sending of mails</a> <ul> <li><a href="#use-rest-request" id="markdown-toc-use-rest-request">Use REST request</a></li> </ul> </li> </ul> </li> </ul> </nav> </aside> <h1 id="mail-system"> <a href="#mail-system" class="anchor-heading" aria-labelledby="mail-system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mail System </h1> <h2 id="introduction"> <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction </h2> <p>Ontimize Boot is a framework that allows you to simplify the configuration of a project made with Ontimize EE, in a fast and efficient way. The email system allows you to send mail from the server with a simple configuration.</p> <h2 id="prerequisites"> <a href="#prerequisites" class="anchor-heading" aria-labelledby="prerequisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites </h2> <p>There are 2 options to follow this tutorial, clone the repository with the initial state and follow the tutorial step by step, or download the final example and see which files are new and which have been updated.</p> <div class="multicolumncontent"> <div class="multicolumnnopadding"> <p><strong>Initial project</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/$ git clone https://github.com/ontimize/ontimize-examples
/ontimize-examples$ cd ontimize-examples
/ontimize-examples$ git checkout boot-mail-initial
</code></pre></div></div> </div> <div class="verticalDivider"></div> <div class="multicolumnnopadding"> <p><strong>Final example</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/$ git clone https://github.com/ontimize/ontimize-examples
/ontimize-examples$ cd ontimize-examples
/ontimize-examples$ git checkout boot-mail
</code></pre></div></div> </div> </div> <h2 id="configuring-email-service-with-ontimize-boot"> <a href="#configuring-email-service-with-ontimize-boot" class="anchor-heading" aria-labelledby="configuring-email-service-with-ontimize-boot"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring email service with Ontimize Boot </h2> <p>In this complete tutorial, we are going to create a backend for an application from scratch, including the database with different tables, configuring the server, creating the necessary <strong>DAO</strong> files and implementing the service. At the end of the tutorial, we will even be testing that our mailing system is fully operational and functional.</p> <h3 id="db-configuration"> <a href="#db-configuration" class="anchor-heading" aria-labelledby="db-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DB configuration </h3> <p>If the configuration table does not exist in the DB, it can be created with the following command:</p> <p><strong>Sentencia SQL (HSQL)</strong></p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">TSETTING</span><span class="p">(</span><span class="n">ID_SETTING</span> <span class="nb">INTEGER</span> <span class="k">GENERATED</span> <span class="k">BY</span> <span class="k">DEFAULT</span> <span class="k">AS</span> <span class="k">IDENTITY</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span><span class="n">SETTING_KEY</span> <span class="n">LONGVARCHAR</span><span class="p">,</span><span class="n">SETTING_VALUE</span> <span class="n">LONGVARCHAR</span><span class="p">,</span><span class="n">SETTING_COMMENTLONGVARCHAR</span><span class="p">);</span></code></pre></figure> <p>We fill in this table with the data that applies to each specific mail server, in this example, we will use the following:</p> <div class="table-wrapper"><table> <thead> <tr> <th>SETTING_KEY</th> <th>SETTING_VALUE</th> <th>SETTING_COMMENT</th> </tr> </thead> <tbody> <tr> <td>mail_host</td> <td>localhost</td> <td>Server host</td> </tr> <tr> <td>mail_port</td> <td>2525</td> <td>Email server port</td> </tr> <tr> <td>mail_protocol</td> <td>smtp</td> <td>Mailing protocol</td> </tr> <tr> <td>mail_user</td> <td>my.mail@example.com</td> <td>User for sending</td> </tr> <tr> <td>mail_password</td> <td>my_password</td> <td>Mail server password</td> </tr> <tr> <td>mail_encoding</td> <td>UTF-8</td> <td>Encoding of mails</td> </tr> <tr> <td>mail_properties</td> <td>mail.smtp.auth:true; mail.smtp.starttls.enable:true;</td> <td>Mail properties</td> </tr> </tbody> </table></div> <p><strong>Sentencia SQL (HSQL)</strong></p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSETTING</span> <span class="p">(</span><span class="n">SETTING_KEY</span><span class="p">,</span> <span class="n">SETTING_VALUE</span><span class="p">,</span> <span class="n">SETTING_COMMENT</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'mail_host'</span><span class="p">,</span> <span class="s1">'localhost'</span><span class="p">,</span> <span class="s1">'Server host'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSETTING</span> <span class="p">(</span><span class="n">SETTING_KEY</span><span class="p">,</span> <span class="n">SETTING_VALUE</span><span class="p">,</span> <span class="n">SETTING_COMMENT</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'mail_port'</span><span class="p">,</span> <span class="s1">'2525'</span><span class="p">,</span> <span class="s1">'Email server port'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSETTING</span> <span class="p">(</span><span class="n">SETTING_KEY</span><span class="p">,</span> <span class="n">SETTING_VALUE</span><span class="p">,</span> <span class="n">SETTING_COMMENT</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'mail_protocol'</span><span class="p">,</span> <span class="s1">'smtp'</span><span class="p">,</span> <span class="s1">'Mailing protocol'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSETTING</span> <span class="p">(</span><span class="n">SETTING_KEY</span><span class="p">,</span> <span class="n">SETTING_VALUE</span><span class="p">,</span> <span class="n">SETTING_COMMENT</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'mail_user'</span><span class="p">,</span> <span class="s1">'my.mail@example.com'</span><span class="p">,</span> <span class="s1">'User for sending'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSETTING</span> <span class="p">(</span><span class="n">SETTING_KEY</span><span class="p">,</span> <span class="n">SETTING_VALUE</span><span class="p">,</span> <span class="n">SETTING_COMMENT</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'mail_password'</span><span class="p">,</span> <span class="s1">'my_password'</span><span class="p">,</span> <span class="s1">'Mail server password'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSETTING</span> <span class="p">(</span><span class="n">SETTING_KEY</span><span class="p">,</span> <span class="n">SETTING_VALUE</span><span class="p">,</span> <span class="n">SETTING_COMMENT</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'mail_encoding'</span><span class="p">,</span> <span class="s1">'UTF-8'</span><span class="p">,</span> <span class="s1">'Encoding of mails'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSETTING</span> <span class="p">(</span><span class="n">SETTING_KEY</span><span class="p">,</span> <span class="n">SETTING_VALUE</span><span class="p">,</span> <span class="n">SETTING_COMMENT</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'mail_properties'</span><span class="p">,</span> <span class="s1">'mail.smtp.auth:true;mail.smtp.starttls.enable:true;'</span><span class="p">,</span> <span class="s1">'Mail properties'</span><span class="p">);</span></code></pre></figure> <p>The implementation interface contains multiple methods, to which we must give permissions, if our application has permissions:</p> <p><strong>Sentencia SQL (HSQL)</strong></p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.mail.IMailServiceServer/sendMail'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.mail.IMailServiceServer/sendMailWithoutAttach'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TROLE_SERVER_PERMISSION</span> <span class="p">(</span><span class="n">ID_ROLENAME</span><span class="p">,</span> <span class="n">ID_SERVER_PERMISSION</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">((</span><span class="k">SELECT</span> <span class="n">ID_ROLENAME</span> <span class="k">FROM</span> <span class="n">TROLE</span> <span class="k">WHERE</span> <span class="n">ROLENAME</span><span class="o">=</span><span class="s1">'admin'</span><span class="p">),</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">ID_SERVER_PERMISSION</span> <span class="k">FROM</span> <span class="n">TSERVER_PERMISSION</span> <span class="k">WHERE</span> <span class="n">PERMISSION_NAME</span><span class="o">=</span><span class="s1">'com.ontimize.jee.server.services.mail.IMailServiceServer/sendMail'</span><span class="p">));</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TROLE_SERVER_PERMISSION</span> <span class="p">(</span><span class="n">ID_ROLENAME</span><span class="p">,</span> <span class="n">ID_SERVER_PERMISSION</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">((</span><span class="k">SELECT</span> <span class="n">ID_ROLENAME</span> <span class="k">FROM</span> <span class="n">TROLE</span> <span class="k">WHERE</span> <span class="n">ROLENAME</span><span class="o">=</span><span class="s1">'admin'</span><span class="p">),</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">ID_SERVER_PERMISSION</span> <span class="k">FROM</span> <span class="n">TSERVER_PERMISSION</span> <span class="k">WHERE</span> <span class="n">PERMISSION_NAME</span><span class="o">=</span><span class="s1">'com.ontimize.jee.server.services.mail.IMailServiceServer/sendMailWithoutAttach'</span><span class="p">));</span></code></pre></figure> <h3 id="adding-dependencies"> <a href="#adding-dependencies" class="anchor-heading" aria-labelledby="adding-dependencies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Adding dependencies </h3> <p>Now we need to add the correct dependency in the correct <strong>pom.xml</strong>:</p> <div class="multicolumn"> <div class="multicolumncontent"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <span class="material-symbols-outlined">right_panel_open</span> </button> <figure class="highlight"><pre><code class="language-xml" data-lang="xml">...
<span class="nt">&lt;dependencies&gt;</span>
...	
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-mail<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
...
<span class="nt">&lt;/dependencies&gt;</span>
...</code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> </div> <h3 id="server-configuration"> <a href="#server-configuration" class="anchor-heading" aria-labelledby="server-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Server Configuration </h3> <div class="multicolumn"> <div class="multicolumncontent"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <span class="material-symbols-outlined">right_panel_open</span> </button> <p>To configure this service, a new configuration fragment shall be added to the <strong>application.yml</strong> file.</p> <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">ontimize</span><span class="pi">:</span>
   <span class="na">mail</span><span class="pi">:</span>
      <span class="na">ref-repository</span><span class="pi">:</span> <span class="s">OCSettingsDao</span>
      <span class="na">filter-column-name</span><span class="pi">:</span> <span class="s">SETTING_KEY</span>
      <span class="na">value-column-name</span><span class="pi">:</span> <span class="s">SETTING_VALUE</span>
      <span class="na">query-id</span><span class="pi">:</span> <span class="s">default</span>
      <span class="na">filter-column-value-encoding</span><span class="pi">:</span> <span class="s">mail_encoding</span>
      <span class="na">filter-column-value-host</span><span class="pi">:</span> <span class="s">mail_host</span>
      <span class="na">filter-column-value-port</span><span class="pi">:</span> <span class="s">mail_port</span>
      <span class="na">filter-column-value-protocol</span><span class="pi">:</span> <span class="s">mail_protocol</span>
      <span class="na">filter-column-value-user</span><span class="pi">:</span> <span class="s">mail_user</span>
      <span class="na">filter-column-value-password</span><span class="pi">:</span> <span class="s">mail_password</span>
      <span class="na">filter-column-value-java-mail-properties</span><span class="pi">:</span> <span class="s">mail_properties</span>
      <span class="na">engine</span><span class="pi">:</span> <span class="s">default</span></code></pre></figure> <p>This configuration indicates the keys and values to be stored in the database. The database table is the one corresponding to the bean described in the <strong>refRepository: OCSettingsDao</strong> attribute (in this case, OCSettingsDao), which can be seen in the table <code class="language-plaintext highlighter-rouge">TSETTING</code> attribute (for this example, <code class="language-plaintext highlighter-rouge">TSETTING</code>) of the *.xml configuration file of the bean (<em>OCSettingsDao.xml</em>). The keys would be stored in the <code class="language-plaintext highlighter-rouge">SETTING_KEY</code> column, the values in the <code class="language-plaintext highlighter-rouge">SETTING_VALUE</code> column and the rest of the attributes map the keys that exist in the database.</p> <p>In addition, the packet that will be scanned to look for the implementation of the email service is indicated.</p> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> </div> <h3 id="creation-of-dao-files"> <a href="#creation-of-dao-files" class="anchor-heading" aria-labelledby="creation-of-dao-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Creation of DAO files </h3> <p>Let&#8217;s create a <strong>DAO</strong> (<strong>D</strong>ata <strong>A</strong>ccess <strong>O</strong>bject) in the <code class="language-plaintext highlighter-rouge">projectwiki-model</code> module to use as a model of this database table. The <strong>DAO</strong> is composed by 2 files, a file with extension *.xml and a *.java file.</p> <div class="multicolumn"> <div class="multicolumncontent"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <span class="material-symbols-outlined">right_panel_open</span> </button> <p>In our *.xml file we will indicate the database table for which <strong>DAO</strong> belongs, the data source from which we collect the information (e.g. the database connection that contains this table) and the schema to which the table belongs.</p> <p><strong>OCSettingsDao.xml</strong></p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;JdbcEntitySetup</span>
    <span class="na">xmlns=</span><span class="s">"http://www.ontimize.com/schema/jdbc"</span>
    <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"</span>
    <span class="na">catalog=</span><span class="s">""</span> <span class="na">schema=</span><span class="s">"${mainschema}"</span> <span class="na">table=</span><span class="s">"TSETTING"</span>
    <span class="na">datasource=</span><span class="s">"mainDataSource"</span> <span class="na">sqlhandler=</span><span class="s">"dbSQLStatementHandler"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;DeleteKeys&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_SETTING<span class="nt">&lt;/Column&gt;</span>
    <span class="nt">&lt;/DeleteKeys&gt;</span>
    <span class="nt">&lt;UpdateKeys&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_SETTING<span class="nt">&lt;/Column&gt;</span>
    <span class="nt">&lt;/UpdateKeys&gt;</span>
    <span class="nt">&lt;GeneratedKey&gt;</span>ID_SETTING<span class="nt">&lt;/GeneratedKey&gt;</span>
<span class="nt">&lt;/JdbcEntitySetup&gt;</span></code></pre></figure> <p>In the *.java file we indicate that it is a repository whose name will be <em>OCSettingsDao</em>, through the annotation <code class="language-plaintext highlighter-rouge">@Repository</code>. With the annotation <code class="language-plaintext highlighter-rouge">@Lazy</code>, we will indicate that the load is delayed until it is completely necessary (improving in that way the performance), and the annotation <code class="language-plaintext highlighter-rouge">@ConfigurationFile</code> allows us to configure this <strong>DAO</strong> using the <strong>XML</strong> file and an additional file where some common characteristics to several <strong>DAO</strong>s can be stored. like the scheme to which they belong.</p> <p><strong>OCSettingsDao.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.model.core.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Lazy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.common.ConfigurationFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.jdbc.OntimizeJdbcDaoSupport</span><span class="o">;</span>

<span class="nd">@Repository</span><span class="o">(</span><span class="s">"OCSettingsDao"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="nd">@ConfigurationFile</span><span class="o">(</span><span class="n">configurationFile</span> <span class="o">=</span> <span class="s">"dao/OCSettingsDao.xml"</span><span class="o">,</span> <span class="n">configurationFilePlaceholder</span> <span class="o">=</span> <span class="s">"dao/placeholders.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OCSettingsDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="nf">OCSettingsDao</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">();</span>
  <span class="o">}</span>

<span class="o">}</span></code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">OCSettingsDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">OCSettingsDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> </div> <h3 id="implementation-in-an-existing-service"> <a href="#implementation-in-an-existing-service" class="anchor-heading" aria-labelledby="implementation-in-an-existing-service"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Implementation in an existing service </h3> <p>To use this service in another service (e.g. to send a mail when a new record is created), just add a variable of type <strong>com.ontimize.jee.common.services.mail.IMailService</strong> and annotate it with <code class="language-plaintext highlighter-rouge">@Autowired</code>.</p> <blockquote class="note"> <p>For space reasons, the entire files are not included, only the code snippets <strong>related to the tutorial</strong>. The &#8230; in the code snippets indicate that <strong>there may</strong> be unrelated code before or after them.</p> </blockquote> <div class="multicolumn"> <div class="multicolumncontent"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <span class="material-symbols-outlined">right_panel_open</span> </button> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="o">...</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.services.mail.IMailService</span><span class="o">;</span>
<span class="o">...</span>
<span class="nd">@Service</span><span class="o">(</span><span class="s">"CandidateService"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CandidateService</span> <span class="kd">implements</span> <span class="nc">ICandidateService</span> <span class="o">{</span>
<span class="o">...</span>
<span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="nc">IMailService</span> <span class="n">mailService</span><span class="o">;</span>
 <span class="o">...</span>
<span class="nd">@Override</span>
<span class="kd">public</span> <span class="nc">EntityResult</span> <span class="nf">candidateInsert</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">attrMap</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">OntimizeJEERuntimeException</span> <span class="o">{</span>
	<span class="nc">EntityResult</span> <span class="n">toRet</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">daoHelper</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">candidateDao</span><span class="o">,</span> <span class="n">attrMap</span><span class="o">);</span>

	<span class="k">if</span> <span class="o">((</span><span class="n">toRet</span><span class="o">.</span><span class="na">getCode</span><span class="o">()</span> <span class="o">!=</span> <span class="nc">EntityResult</span><span class="o">.</span><span class="na">OPERATION_WRONG</span><span class="o">))</span> <span class="o">{</span>

		<span class="nc">Runnable</span> <span class="n">runnable</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="o">{</span>

		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">receiverList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
		<span class="n">receiverList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"receiver@example.com"</span><span class="o">);</span>
		<span class="nc">StringBuilder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
		<span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"Created new user."</span><span class="o">);</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="k">this</span><span class="o">.</span><span class="na">mailService</span><span class="o">.</span><span class="na">sendMailWithoutAttach</span><span class="o">(</span><span class="s">"my.mail@example.com"</span><span class="o">,</span> <span class="n">receiverList</span><span class="o">,</span> <span class="s">"New candidate"</span><span class="o">,</span>
				<span class="n">builder</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">OntimizeJEEException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
	<span class="o">}</span>
	<span class="o">};</span>
			
  <span class="nc">DelegatingSecurityContextRunnable</span> <span class="n">wrappedRunnable</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DelegatingSecurityContextRunnable</span><span class="o">(</span><span class="n">runnable</span><span class="o">);</span>
	  <span class="k">new</span> <span class="nf">Thread</span><span class="o">(</span><span class="n">wrappedRunnable</span><span class="o">).</span><span class="na">start</span><span class="o">();</span>
  <span class="o">}</span>

<span class="k">return</span> <span class="n">toRet</span><span class="o">;</span>
<span class="o">}</span>
 <span class="o">...</span>
  </code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">OCSettingsDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">OCSettingsDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> </div> <h2 id="checking-the-sending-of-mails"> <a href="#checking-the-sending-of-mails" class="anchor-heading" aria-labelledby="checking-the-sending-of-mails"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Checking the sending of mails </h2> <p>In order to check that the created service is indeed sending mails, we will use an external service called <strong>FakeSMTP</strong>, is a <em>free</em> Fake SMTP Server with GUI for testing emails in applications easily.</p> <p>To do this, we enter <a href="http://nilhcem.com/FakeSMTP/download.html" target="_blank">this link</a> and clone the repository it indicates into the workspace where we have our project.</p> <p>We launch the DB and the server. Next, open a console and move to the path where <strong>FakeSMTP</strong> was downloaded:</p> <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">...\FakeSMTP&gt; mvn package-Dmaven.test.skip</span>
<span class="s">...\FakeSMTP&gt; cd target</span>
<span class="s">...\FakeSMTP\target&gt; java -jar fakeSMTP-2.1-SNAPSHOT.jar -s -p 2525</span></code></pre></figure> <div class="table-wrapper"><table> <thead> <tr> <th>Command</th> <th>Meaning</th> <th>34</th> </tr> </thead> <tbody> <tr> <td>fakeSMTP-VERSION.jar</td> <td>Downloaded version.</td> <td>&#160;</td> </tr> <tr> <td>-s</td> <td>Launch the server.</td> <td>&#160;</td> </tr> <tr> <td>- p 2525</td> <td>Launch the application on the port indicated.</td> <td>&#160;</td> </tr> </tbody> </table></div> <p>Now we can use an application like <strong>Postman</strong> to execute different REST requests to our project.</p> <h3 id="use-rest-request"> <a href="#use-rest-request" class="anchor-heading" aria-labelledby="use-rest-request"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Use REST request </h3> <p>The requests contains the following structure: <strong>localhost:33333/candidates/candidate</strong></p> <div class="table-wrapper"><table> <thead> <tr> <th>Element</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td>localhost:33333</td> <td>Indicates the host</td> </tr> <tr> <td>/candidates</td> <td>Indicates the service to be queried</td> </tr> <tr> <td>/candidate</td> <td>Indicates the <strong>DAO</strong> that will access that service</td> </tr> </tbody> </table></div> <p>The request types can only be <strong>GET, POST, PUT, DELETE</strong>.</p> <p>Below are examples of request for candidates (<strong>CANDIDATES</strong>).</p> <p>The authorization used for these requests is authorization of the type <strong>BASIC</strong>.</p> <p>In both cases, the access must be done with a user and password example:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    User: demo
Password: demouser
</code></pre></div></div> <div class="table-wrapper"><table> <thead> <tr> <th>Request type</th> <th>Query</th> <th>URL</th> <th>Service method</th> <th>Body request</th> </tr> </thead> <tbody> <tr> <td>POST</td> <td>insert</td> <td>localhost:33333/candidates/candidate</td> <td>candidateInsert</td> <td>Example below</td> </tr> </tbody> </table></div> <p><strong>Body request:</strong></p> <figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"PHONE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-444-8888"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BIRTHDAY"</span><span class="p">:</span><span class="w"> </span><span class="mi">788224700000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SURNAME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wilson"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EMAIL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wwiilsoon@example.org"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SPECIALTIES"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C#"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"NAME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"William"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DNI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88643946Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"sqltypes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"SPECIALTIES"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LINKEDIN"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PHONE"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EXPERIENCE_LEVEL"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"STATUS"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EMAIL"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WAGE_LEVEL"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DNI"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ID"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ORIGIN"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EDUCATION"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"COMMENT"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PROFILE"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SURNAME"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"NAME"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BIRTHDAY"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
  </span></code></pre></figure> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
