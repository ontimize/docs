<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/docs/v3/assets/css/just-the-docs-default.css"> <style type="text/css"> .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external):nth-child(5) > .nav-list > .nav-list-item:nth-child(2) > .nav-list-link { display: block; font-weight: 600; text-decoration: none; background-image: linear-gradient(-90deg, #eaeaea 0%, rgba(234, 234, 234, 0.8) 80%, rgba(234, 234, 234, 0) 100%); } .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list-expander svg, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list > .nav-list-item:nth-child(2) > .nav-list-expander svg { transform: rotate(-90deg); } .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list > .nav-list-item:nth-child(2) > .nav-list { display: block; } .site-nav > .nav-category-list > .nav-list-item > .nav-list-expander svg { transform: rotate(-90deg); } .site-nav > .nav-category-list > .nav-list-item > .nav-list { display: block; } </style> <script src="/docs/v3/assets/js/vendor/lunr.min.js"></script> <script src="/docs/v3/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>DMS System | Ontimize Boot</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="DMS System" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Table of Contents" /> <meta property="og:description" content="Table of Contents" /> <link rel="canonical" href="https://ontimize.github.io/docs/v3/systems/dms/" /> <meta property="og:url" content="https://ontimize.github.io/docs/v3/systems/dms/" /> <meta property="og:site_name" content="Ontimize Boot" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="DMS System" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Table of Contents","headline":"DMS System","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ontimize.github.io/docs/v3/assets/icons/logo-ontimize-blanco.png"}},"url":"https://ontimize.github.io/docs/v3/systems/dms/"}</script> <!-- End Jekyll SEO tag --> <!-- start custom head snippets --> <link rel="apple-touch-icon" sizes="57x57" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-57x57.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="60x60" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-60x60.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="72x72" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-72x72.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="76x76" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-76x76.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="114x114" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-114x114.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="120x120" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-120x120.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="144x144" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-144x144.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="152x152" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-152x152.png?v=M44lzPylqQ"> <link rel="apple-touch-icon" sizes="180x180" href="https://ontimize.github.io/docs/v3/assets/icons/apple-icon-180x180.png?v=M44lzPylqQ"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v3/assets/icons/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v3/assets/icons/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v3/assets/icons/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96"> <link rel="icon" type="image/png" href="https://ontimize.github.io/docs/v3/assets/icons/android-icon-192x192.png?v=M44lzPylqQ" sizes="192x192"> <link rel="manifest" href="https://ontimize.github.io/docs/v3/assets/icons/manifest.json?v=M44lzPylqQ"> <link rel="shortcut icon" href="/assets/icons/favicon.ico?v=M44lzPylqQ"> <meta name="msapplication-TileColor" content="#000000"> <meta name="msapplication-TileImage" content="https://ontimize.github.io/docs/v3/assets/icons/mstile-144x144.png?v=M44lzPylqQ"> <meta name="msapplication-config" content="https://ontimize.github.io/docs/v3/assets/icons/browserconfig.xml?v=M44lzPylqQ"> <meta name="theme-color" content="#ffffff"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet"> <link rel="stylesheet" href="https://ontimize.github.io/docs/v3/assets/jstree/style.min.css" /> <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script> <script src="https://ontimize.github.io/docs/v3/assets/jstree/jstree.min.js"></script> <script>$(document).ready(function () { $('.jstreeloader').jstree(); });</script> <script> document.addEventListener('DOMContentLoaded', function() { var toggleButtons = document.getElementsByClassName('toggle-tree-btn'); for (let btn of toggleButtons) { btn.addEventListener('click', function() { btn.closest('.multicolumn').querySelector('.jstreeloader').classList.toggle('collapsed'); }); } }); </script> <script> document.addEventListener("DOMContentLoaded", function() { var toc = document.getElementById("toc"); var tocTitle = document.getElementById("tocTitle"); tocTitle.addEventListener("click", function() { toc.querySelector('.toc__menu').classList.toggle('collapsed'); toc.closest('.sidebar__right').classList.toggle('collapsed'); tocTitle.classList.toggle('collapsed'); toc.classList.toggle('collapsed'); }); }); </script> <!-- end custom head snippets --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/docs/v3/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="Ontimize Boot"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/docs/v3/" class="nav-list-link">Home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Introduction category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/introduction/" class="nav-list-link">Introduction</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/v3/prerequisites/" class="nav-list-link">Prerequisites</a></li><li class="nav-list-item"><a href="/docs/v3/getting_started/" class="nav-list-link">Getting started</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tutorial category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/tutorial/" class="nav-list-link">Tutorial</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/v3/tutorial/exercise6" class="nav-list-link">Understanding the EntityResult</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Basics category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/basics/" class="nav-list-link">Basics</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/v3/basics/autoconfigurators/" class="nav-list-link">Autoconfigurators</a></li><li class="nav-list-item"><a href="/docs/v3/basics/charts-on-demand" class="nav-list-link">Charts On Demand</a></li><li class="nav-list-item"><a href="/docs/v3/basics/complexqueries/" class="nav-list-link">Complex queries</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Export data category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/basics/exportdata/" class="nav-list-link">Export data</a><ul class="nav-list"><li class="nav-list-item"> <a href="/docs/v3/basics/exportdata/export-data-to-csv" class="nav-list-link">Export data to csv</a> </li><li class="nav-list-item"> <a href="/docs/v3/basics/exportdata/export-data-to-xlsx" class="nav-list-link">Export data to xlsx</a> </li><li class="nav-list-item"> <a href="/docs/v3/basics/exportdata/export-data-to-pdf" class="nav-list-link">Export data to pdf</a> </li></ul></li><li class="nav-list-item"><a href="/docs/v3/basics/migration/" class="nav-list-link">Migration from Ontimize 1.x.x to 3.x.x</a></li><li class="nav-list-item"><a href="/docs/v3/basics/multipledatasources/" class="nav-list-link">Multiple Datasources</a></li><li class="nav-list-item"><a href="/docs/v3/basics/applicationyml/" class="nav-list-link">Understanding application.yml</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Systems category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/systems/" class="nav-list-link">Systems</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/v3/systems/asynctask/" class="nav-list-link">Async Tasks</a></li><li class="nav-list-item"><a href="/docs/v3/systems/dms/" class="nav-list-link">DMS System</a></li><li class="nav-list-item"><a href="/docs/v3/systems/sdms/" class="nav-list-link">SDMS System</a></li><li class="nav-list-item"><a href="/docs/v3/systems/i18n/" class="nav-list-link">I18N System</a></li><li class="nav-list-item"><a href="/docs/v3/systems/ldap" class="nav-list-link">LDAP Security</a></li><li class="nav-list-item"><a href="/docs/v3/systems/mail/" class="nav-list-link">Mail System</a></li><li class="nav-list-item"><a href="/docs/v3/systems/preferences/" class="nav-list-link">Preferences System</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Reports category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/v3/systems/reports/" class="nav-list-link">Reports</a><ul class="nav-list"><li class="nav-list-item"> <a href="/docs/v3/systems/reports/report-store" class="nav-list-link">Report Store</a> </li><li class="nav-list-item"> <a href="/docs/v3/systems/reports/report-on-demand" class="nav-list-link">Report On Demand</a> </li></ul></li><li class="nav-list-item"><a href="/docs/v3/systems/security/" class="nav-list-link">Security System</a></li></ul></li><li class="nav-list-item"><a href="/docs/v3/versions/" class="nav-list-link">Versions</a></li></ul> </nav> <footer class="site-footer"> © 2023 Imatia Innovation, S.L. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Ontimize Boot" aria-label="Search Ontimize Boot" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <div class="header-custom-main"> <div class="github-div"> <a href="https://github.com/Ontimize" target="_blank"> <img src="https://ontimize.github.io/docs/v3/assets/icons/github-front.svg" width="42px" height="42px" alt="Ontimize"> </a> </div> <select class="select" name="version" onchange="window.open(this.value,'_self')"> <option value="https://ontimize.github.io/docs/v1" > 1.x.x </option> <option value="https://ontimize.github.io/docs/v3" selected> 3.x.x </option> </select> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/docs/v3/systems/">Systems</a></li> <li class="breadcrumb-nav-list-item"><span>DMS System</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <aside class="sidebar__right collapsed"> <nav id="toc" class="toc collapsed"><header> <h4 id="tocTitle" class="nav__title collapsed"> <a href="#tocTitle" class="anchor-heading" aria-labelledby="tocTitle"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of Contents </h4> </header> <ul class="toc__menu collapsed" id="markdown-toc"> <li><a href="#dms-system" id="markdown-toc-dms-system">DMS System</a> <ul> <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li> <li><a href="#previous-concepts" id="markdown-toc-previous-concepts">Previous concepts</a></li> <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li> <li><a href="#steps" id="markdown-toc-steps">Steps</a> <ul> <li><a href="#database" id="markdown-toc-database">Database</a> <ul> <li><a href="#dms-tables" id="markdown-toc-dms-tables">DMS Tables</a></li> <li><a href="#link-dms-table-with-entity-table" id="markdown-toc-link-dms-table-with-entity-table">Link DMS table with entity table</a></li> </ul> </li> <li><a href="#server" id="markdown-toc-server">Server</a> <ul> <li><a href="#add-dms-dependencies" id="markdown-toc-add-dms-dependencies">Add DMS dependencies</a></li> <li><a href="#add-dms-dao-and-modify-candidate-dao" id="markdown-toc-add-dms-dao-and-modify-candidate-dao">Add DMS DAO and modify Candidate DAO</a></li> <li><a href="#modify-candidateservice-insert-method" id="markdown-toc-modify-candidateservice-insert-method">Modify CandidateService insert method</a></li> <li><a href="#add-file-manager-rest-controller" id="markdown-toc-add-file-manager-rest-controller">Add File Manager Rest Controller</a></li> <li><a href="#modify-applicationyml" id="markdown-toc-modify-applicationyml">Modify application.yml</a></li> <li><a href="#add-permissions" id="markdown-toc-add-permissions">Add permissions</a></li> </ul> </li> </ul> </li> </ul> </li> </ul> </nav> </aside> <h1 id="dms-system"> <a href="#dms-system" class="anchor-heading" aria-labelledby="dms-system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DMS System </h1> <h2 id="introduction"> <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction </h2> <p>A <strong>D</strong>ocument <strong>M</strong>anagement <strong>S</strong>ystem (<strong>DMS</strong>) is a system that allows you to store files and keep track of the versions of those files. Ontimize Boot provides a DMS system that allows to store the files that are associated to the different records of a database table.</p> <h2 id="previous-concepts"> <a href="#previous-concepts" class="anchor-heading" aria-labelledby="previous-concepts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Previous concepts </h2> <ul> <li><strong>Document</strong> (or <strong>workspace</strong>): It is superentity into which several files can be grouped.</li> <li>File: The file is the generic representation of a file. A file groups several versions of itself.</li> <li>Version: Is the relationship to a physical file.</li> <li><strong>Category</strong> (or <strong>folder</strong>): Is a way of grouping files within the document.</li> </ul> <h2 id="prerequisites"> <a href="#prerequisites" class="anchor-heading" aria-labelledby="prerequisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites </h2> <blockquote class="note"> <p>You can follow this tutorial using your own application, although for this example we will use an application created using the archetype that can be found <a href="https://ontimize.github.io/docs/v3/getting_started/">on this page</a> and with a REST service.</p> </blockquote> <p>There are 2 options to follow this tutorial, clone the repository with the initial state and follow the tutorial step by step, or download the final example and see which files are new and which have been updated.</p> <div class="multicolumn"> <div class="multicolumnnopadding"> <p><strong>Initial project</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/$ git clone https://github.com/ontimize/ontimize-examples 
/ontimize-examples$ cd ontimize-examples
/ontimize-examples$ git checkout boot-dms-initial
</code></pre></div></div> </div> <div class="verticalDivider"></div> <div class="multicolumnnopadding"> <p><strong>Final example</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/$ git clone https://github.com/ontimize/ontimize-examples 
/ontimize-examples$ cd ontimize-examples
/ontimize-examples$ git checkout boot-dms
</code></pre></div></div> </div> </div> <blockquote class="note"> <p>To simplify the code being written, three dots (&#8230;) may appear in some parts of the code. This indicates that there may be previous code before and after those dots.</p> </blockquote> <h2 id="steps"> <a href="#steps" class="anchor-heading" aria-labelledby="steps"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Steps </h2> <h3 id="database"> <a href="#database" class="anchor-heading" aria-labelledby="database"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Database </h3> <h4 id="dms-tables"> <a href="#dms-tables" class="anchor-heading" aria-labelledby="dms-tables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DMS Tables </h4> <p>With the database started, we create the new tables that will store the DMS information.</p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">TDMS_DOC</span><span class="p">(</span><span class="n">ID_DMS_DOC</span> <span class="nb">INTEGER</span> <span class="k">IDENTITY</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span><span class="n">UPDATE_DATE</span> <span class="nb">TIMESTAMP</span><span class="p">,</span><span class="n">UPDATE_BY_ID</span> <span class="nb">INTEGER</span><span class="p">,</span><span class="n">DOC_NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">OWNER_ID</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">DOC_DESCRIPTION</span> <span class="k">CLOB</span><span class="p">(</span><span class="mi">1</span><span class="k">G</span><span class="p">),</span><span class="n">DOC_KEYWORDS</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">));</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">TDMS_DOC_FILE</span><span class="p">(</span><span class="n">ID_DMS_DOC_FILE</span> <span class="nb">INTEGER</span> <span class="k">IDENTITY</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span><span class="n">FILE_NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">ID_DMS_DOC</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">FILE_TYPE</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span><span class="n">ID_DMS_DOC_CATEGORY</span> <span class="nb">INTEGER</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">TDMS_DOC_FILE_VERSION</span><span class="p">(</span><span class="n">ID_DMS_DOC_FILE_VERSION</span> <span class="nb">INTEGER</span> <span class="k">IDENTITY</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span><span class="n">FILE_PATH</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">500</span><span class="p">),</span><span class="k">VERSION</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">FILE_DESCRIPTION</span> <span class="k">CLOB</span><span class="p">(</span><span class="mi">1</span><span class="k">G</span><span class="p">),</span><span class="n">IS_ACTIVE</span> <span class="nb">CHARACTER</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">FILE_ADDED_DATE</span> <span class="nb">TIMESTAMP</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">FILE_ADDED_USER_ID</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">ID_DMS_DOC_FILE</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">THUMBNAIL</span> <span class="nb">BLOB</span><span class="p">(</span><span class="mi">1</span><span class="k">G</span><span class="p">),</span><span class="n">FILE_SIZE</span> <span class="nb">INTEGER</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">TDMS_DOC_PROPERTY</span><span class="p">(</span><span class="n">ID_DMS_DOC_PROPERTY</span> <span class="nb">INTEGER</span> <span class="k">IDENTITY</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span><span class="n">DOC_PROPERTY_KEY</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">DOC_PROPERTY_VALUE</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span><span class="n">ID_DMS_DOC</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">TDMS_RELATED_DOC</span><span class="p">(</span><span class="n">ID_DMS_RELATED_PROPERTY</span> <span class="nb">INTEGER</span> <span class="k">IDENTITY</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span><span class="n">ID_DMS_DOC_MASTER</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">ID_DMS_DOC_CHILD</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">TDMS_DOC_CATEGORY</span><span class="p">(</span><span class="n">ID_DMS_DOC_CATEGORY</span> <span class="nb">INTEGER</span> <span class="k">IDENTITY</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span><span class="n">ID_DMS_DOC</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">ID_DMS_DOC_CATEGORY_PARENT</span> <span class="nb">INTEGER</span><span class="p">,</span><span class="n">CATEGORY_NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">);</span></code></pre></figure> <p>Once the tables have been created, we add the foreign keys</p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">TDMS_DOC_FILE</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">TDMS_DOC_FILE_FK</span> <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">ID_DMS_DOC</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">TDMS_DOC</span><span class="p">(</span><span class="n">ID_DMS_DOC</span><span class="p">);</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">TDMS_DOC_FILE_VERSION</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">TDMS_DOC_FILE_VERSION_FK</span> <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">ID_DMS_DOC_FILE</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">TDMS_DOC_FILE</span><span class="p">(</span><span class="n">ID_DMS_DOC_FILE</span><span class="p">);</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">TDMS_DOC_PROPERTY</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">TDMS_DOC_PROPERTY_FK</span> <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">ID_DMS_DOC</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">TDMS_DOC</span><span class="p">(</span><span class="n">ID_DMS_DOC</span><span class="p">)</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">TDMS_RELATED_DOC</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">TDMS_RELATED_DOC_FK</span> <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">ID_DMS_DOC_MASTER</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">TDMS_DOC</span><span class="p">(</span><span class="n">ID_DMS_DOC</span><span class="p">);</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">TDMS_RELATED_DOC</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">TDMS_RELATED_DOC_FK_1</span> <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">ID_DMS_DOC_CHILD</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">TDMS_DOC</span><span class="p">(</span><span class="n">ID_DMS_DOC</span><span class="p">);</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">TDMS_DOC_CATEGORY</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">TDMS_DOC_CATEGORY_FK</span> <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">ID_DMS_DOC</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">TDMS_DOC</span><span class="p">(</span><span class="n">ID_DMS_DOC</span><span class="p">);</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">TDMS_DOC_FILE</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">TDMS_DOC_FILE_FK_1</span> <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">ID_DMS_DOC_CATEGORY</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">TDMS_DOC_CATEGORY</span><span class="p">(</span><span class="n">ID_DMS_DOC_CATEGORY</span><span class="p">);</span></code></pre></figure> <h4 id="link-dms-table-with-entity-table"> <a href="#link-dms-table-with-entity-table" class="anchor-heading" aria-labelledby="link-dms-table-with-entity-table"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Link DMS table with entity table </h4> <p>In this example we want each new candidate added to the application to have its own space to store documents, so we will modify the <code class="language-plaintext highlighter-rouge">CANDIDATES</code> table to contain a column that stores the primary key of the <strong>document</strong> (or <strong>workspace</strong>) that will be associated with it.</p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">CANDIDATE</span> <span class="k">ADD</span> <span class="n">ID_DMS_DOC</span> <span class="nb">INTEGER</span><span class="p">;</span></code></pre></figure> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">CANDIDATE</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">CANDIDATE_FK</span> <span class="k">FOREIGN</span> <span class="k">KEY</span><span class="p">(</span><span class="n">ID_DMS_DOC</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">TDMS_DOC</span><span class="p">(</span><span class="n">ID_DMS_DOC</span><span class="p">);</span></code></pre></figure> <h3 id="server"> <a href="#server" class="anchor-heading" aria-labelledby="server"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Server </h3> <h4 id="add-dms-dependencies"> <a href="#add-dms-dependencies" class="anchor-heading" aria-labelledby="add-dms-dependencies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add DMS dependencies </h4> <div class="multicolumn"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <div class="btn">Toggle Tree</div> </button> <p><strong>model/pom.xml</strong></p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml">...
<span class="nt">&lt;dependencies&gt;</span>
  ...
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.ontimize.jee.dms<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>ontimize-jee-dms-server<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>

  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.ontimize.jee.dms<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>ontimize-jee-dms-common<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
  ...
<span class="nt">&lt;/dependencies&gt;</span>
...</code></pre></figure> <p><strong>ws/pom.xml</strong></p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml">...
<span class="nt">&lt;dependencies&gt;</span>
  ...
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>com.ontimize.jee.dms<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>ontimize-jee-dms-rest<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
  ...
<span class="nt">&lt;/dependencies&gt;</span>
...</code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> <h4 id="add-dms-dao-and-modify-candidate-dao"> <a href="#add-dms-dao-and-modify-candidate-dao" class="anchor-heading" aria-labelledby="add-dms-dao-and-modify-candidate-dao"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add DMS DAO and modify Candidate DAO </h4> <p>A specific DAO will be created for each table in the DMS system, and each of them will implement a different interface. In turn, the candidate DAO will be modified to reflect the new column it contains.</p> <div class="multicolumn"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <div class="btn">Toggle Tree</div> </button> <p><strong>DMSCategoryDao.xml</strong></p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;JdbcEntitySetup</span>
  <span class="na">xmlns=</span><span class="s">"http://www.ontimize.com/schema/jdbc"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"</span>
  <span class="na">catalog=</span><span class="s">""</span> <span class="na">schema=</span><span class="s">"${mainschema}"</span> <span class="na">table=</span><span class="s">"TDMS_DOC_CATEGORY"</span>
  <span class="na">datasource=</span><span class="s">"mainDataSource"</span> <span class="na">sqlhandler=</span><span class="s">"dbSQLStatementHandler"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;DeleteKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_CATEGORY<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/DeleteKeys&gt;</span>
  <span class="nt">&lt;UpdateKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_CATEGORY<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/UpdateKeys&gt;</span>
  <span class="nt">&lt;GeneratedKey&gt;</span>ID_DMS_DOC_CATEGORY<span class="nt">&lt;/GeneratedKey&gt;</span>
<span class="nt">&lt;/JdbcEntitySetup&gt;</span></code></pre></figure> <p><strong>DMSDocumentDao.xml</strong></p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;JdbcEntitySetup</span>
  <span class="na">xmlns=</span><span class="s">"http://www.ontimize.com/schema/jdbc"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"</span>
  <span class="na">catalog=</span><span class="s">""</span> <span class="na">schema=</span><span class="s">"${mainschema}"</span> <span class="na">table=</span><span class="s">"TDMS_DOC"</span>
  <span class="na">datasource=</span><span class="s">"mainDataSource"</span> <span class="na">sqlhandler=</span><span class="s">"dbSQLStatementHandler"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;DeleteKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/DeleteKeys&gt;</span>
  <span class="nt">&lt;UpdateKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/UpdateKeys&gt;</span>
  <span class="nt">&lt;GeneratedKey&gt;</span>ID_DMS_DOC<span class="nt">&lt;/GeneratedKey&gt;</span>
<span class="nt">&lt;/JdbcEntitySetup&gt;</span></code></pre></figure> <p><strong>DMSDocumentFileDao.xml</strong></p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;JdbcEntitySetup</span>
  <span class="na">xmlns=</span><span class="s">"http://www.ontimize.com/schema/jdbc"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"</span>
  <span class="na">catalog=</span><span class="s">""</span> <span class="na">schema=</span><span class="s">"${mainschema}"</span> <span class="na">table=</span><span class="s">"TDMS_DOC_FILE"</span>
  <span class="na">datasource=</span><span class="s">"mainDataSource"</span> <span class="na">sqlhandler=</span><span class="s">"dbSQLStatementHandler"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;DeleteKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_FILE<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/DeleteKeys&gt;</span>
  <span class="nt">&lt;UpdateKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_FILE<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/UpdateKeys&gt;</span>
  <span class="nt">&lt;GeneratedKey&gt;</span>ID_DMS_DOC_FILE<span class="nt">&lt;/GeneratedKey&gt;</span>
  <span class="nt">&lt;Queries&gt;</span>
    <span class="nt">&lt;Query</span> <span class="na">id=</span><span class="s">"default"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;AmbiguousColumns&gt;</span>
        <span class="nt">&lt;AmbiguousColumn</span> <span class="na">name=</span><span class="s">"ID_DMS_DOC_FILE"</span>
          <span class="na">prefix=</span><span class="s">"tddf"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;AmbiguousColumn</span> <span class="na">name=</span><span class="s">"ID_DMS_DOC"</span> <span class="na">prefix=</span><span class="s">"tddf"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/AmbiguousColumns&gt;</span>
      <span class="nt">&lt;ValidColumns&gt;</span>
        <span class="c">&lt;!-- TDMS_DOC_FILE --&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_FILE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_NAME<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_TYPE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_CATEGORY<span class="nt">&lt;/Column&gt;</span>
        <span class="c">&lt;!-- TDMS_DOC --&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>UPDATE_DATE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>UPDATE_BY_ID<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>DOC_NAME<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>OWNER_ID<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>DOC_DESCRIPTION<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>DOC_KEYWORDS<span class="nt">&lt;/Column&gt;</span>
        <span class="c">&lt;!-- TDMS_DOC_FILE_VERSION --&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_FILE_VERSION<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_PATH<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>VERSION<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_DESCRIPTION<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>IS_ACTIVE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_ADDED_DATE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_ADDED_USER_ID<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_FILE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>THUMBNAIL<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_SIZE<span class="nt">&lt;/Column&gt;</span>
      <span class="nt">&lt;/ValidColumns&gt;</span>
      <span class="nt">&lt;Sentence&gt;</span>
        <span class="cp">&lt;![CDATA[
          SELECT
            #COLUMNS#
          FROM
            ${mainschema}.TDMS_DOC_FILE AS tddf
            JOIN ${mainschema}.TDMS_DOC AS tdd ON tddf.ID_DMS_DOC = tdd.ID_DMS_DOC
            LEFT JOIN ${mainschema}.TDMS_DOC_FILE_VERSION AS tddfv ON tddf.id_dms_doc_file = tddfv.id_dms_doc_file
          WHERE (tddfv.IS_ACTIVE = 'Y' OR tddfv.id_dms_doc_file_version IS NULL)
          #WHERE_CONCAT#
          #ORDER#
         ]]&gt;</span>
    <span class="nt">&lt;/Sentence&gt;</span>
    <span class="nt">&lt;/Query&gt;</span>
    <span class="nt">&lt;Query</span> <span class="na">id=</span><span class="s">"allfiles"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;AmbiguousColumns&gt;</span>
        <span class="nt">&lt;AmbiguousColumn</span> <span class="na">name=</span><span class="s">"ID_DMS_DOC_FILE"</span>
          <span class="na">prefix=</span><span class="s">"tddf"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/AmbiguousColumns&gt;</span>
      <span class="nt">&lt;ValidColumns&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_FILE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_NAME<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_TYPE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_CATEGORY<span class="nt">&lt;/Column&gt;</span>
      <span class="nt">&lt;/ValidColumns&gt;</span>
      <span class="nt">&lt;Sentence&gt;</span>
        <span class="cp">&lt;![CDATA[
          SELECT
            #COLUMNS#
          FROM
            ${mainschema}.TDMS_DOC_FILE AS tddf
          #WHERE#
          #ORDER#
         ]]&gt;</span>
    <span class="nt">&lt;/Sentence&gt;</span>
    <span class="nt">&lt;/Query&gt;</span>
  <span class="nt">&lt;/Queries&gt;</span>
<span class="nt">&lt;/JdbcEntitySetup&gt;</span></code></pre></figure> <p><strong>DMSDocumentFileVersionDao.xml</strong></p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;JdbcEntitySetup</span>
  <span class="na">xmlns=</span><span class="s">"http://www.ontimize.com/schema/jdbc"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"</span>
  <span class="na">catalog=</span><span class="s">""</span> <span class="na">schema=</span><span class="s">"${mainschema}"</span> <span class="na">table=</span><span class="s">"TDMS_DOC_FILE_VERSION"</span>
  <span class="na">datasource=</span><span class="s">"mainDataSource"</span> <span class="na">sqlhandler=</span><span class="s">"dbSQLStatementHandler"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;DeleteKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_FILE_VERSION<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/DeleteKeys&gt;</span>
  <span class="nt">&lt;UpdateKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_FILE_VERSION<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/UpdateKeys&gt;</span>
  <span class="nt">&lt;GeneratedKey&gt;</span>ID_DMS_DOC_FILE_VERSION<span class="nt">&lt;/GeneratedKey&gt;</span>
  <span class="nt">&lt;Queries&gt;</span>
    <span class="nt">&lt;Query</span> <span class="na">id=</span><span class="s">"default"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;AmbiguousColumns&gt;</span>
        <span class="nt">&lt;AmbiguousColumn</span> <span class="na">name=</span><span class="s">"ID_DMS_DOC_FILE"</span>
          <span class="na">prefix=</span><span class="s">"tddfv"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/AmbiguousColumns&gt;</span>
      <span class="nt">&lt;ValidColumns&gt;</span>
        <span class="c">&lt;!-- TDMS_DOC_FILE_VERSION --&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_FILE_VERSION<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_PATH<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>VERSION<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_DESCRIPTION<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>IS_ACTIVE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_ADDED_DATE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_ADDED_USER_ID<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_FILE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>THUMBNAIL<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_SIZE<span class="nt">&lt;/Column&gt;</span>
        <span class="c">&lt;!-- TDMS_DOC_FILE --&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_FILE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_NAME<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>FILE_TYPE<span class="nt">&lt;/Column&gt;</span>
        <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_CATEGORY<span class="nt">&lt;/Column&gt;</span>
      <span class="nt">&lt;/ValidColumns&gt;</span>
      <span class="nt">&lt;Sentence&gt;</span>
        <span class="cp">&lt;![CDATA[
           SELECT
             #COLUMNS#
        FROM
          ${mainschema}.TDMS_DOC_FILE_VERSION AS tddfv
          LEFT JOIN ${mainschema}.TDMS_DOC_FILE AS tddf ON tddfv.ID_DMS_DOC_FILE = tddf.ID_DMS_DOC_FILE
        #WHERE#
        #ORDER#
         ]]&gt;</span>
      <span class="nt">&lt;/Sentence&gt;</span>
    <span class="nt">&lt;/Query&gt;</span>
  <span class="nt">&lt;/Queries&gt;</span>
<span class="nt">&lt;/JdbcEntitySetup&gt;</span></code></pre></figure> <p><strong>DMSDocumentPropertyDao.xml</strong></p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;JdbcEntitySetup</span>
  <span class="na">xmlns=</span><span class="s">"http://www.ontimize.com/schema/jdbc"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"</span>
  <span class="na">catalog=</span><span class="s">""</span> <span class="na">schema=</span><span class="s">"${mainschema}"</span> <span class="na">table=</span><span class="s">"TDMS_DOC_PROPERTY"</span>
  <span class="na">datasource=</span><span class="s">"mainDataSource"</span> <span class="na">sqlhandler=</span><span class="s">"dbSQLStatementHandler"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;DeleteKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_PROPERTY<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/DeleteKeys&gt;</span>
  <span class="nt">&lt;UpdateKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_DOC_PROPERTY<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/UpdateKeys&gt;</span>
  <span class="nt">&lt;GeneratedKey&gt;</span>ID_DMS_DOC_PROPERTY<span class="nt">&lt;/GeneratedKey&gt;</span>
<span class="nt">&lt;/JdbcEntitySetup&gt;</span></code></pre></figure> <p><strong>DMSRelatedDocumentDao.xml</strong></p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;JdbcEntitySetup</span>
  <span class="na">xmlns=</span><span class="s">"http://www.ontimize.com/schema/jdbc"</span>
  <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"</span>
  <span class="na">catalog=</span><span class="s">""</span> <span class="na">schema=</span><span class="s">"${mainschema}"</span> <span class="na">table=</span><span class="s">"TDMS_RELATED_DOC"</span>
  <span class="na">datasource=</span><span class="s">"mainDataSource"</span> <span class="na">sqlhandler=</span><span class="s">"dbSQLStatementHandler"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;DeleteKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_RELATED_PROPERTY<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/DeleteKeys&gt;</span>
  <span class="nt">&lt;UpdateKeys&gt;</span>
    <span class="nt">&lt;Column&gt;</span>ID_DMS_RELATED_PROPERTY<span class="nt">&lt;/Column&gt;</span>
  <span class="nt">&lt;/UpdateKeys&gt;</span>
  <span class="nt">&lt;GeneratedKey&gt;</span>ID_DMS_RELATED_PROPERTY<span class="nt">&lt;/GeneratedKey&gt;</span>
<span class="nt">&lt;/JdbcEntitySetup&gt;</span></code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSCategoryDao.xml</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentDao.xml</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileDao.xml</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileVersionDao.xml</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentPropertyDao.xml</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSRelatedDocumentDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> <div class="multicolumn"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <div class="btn">Toggle Tree</div> </button> <p><strong>CandidateDao.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="o">...</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CandidateDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="o">{</span>
  <span class="o">...</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC"</span><span class="o">;</span>
<span class="o">}</span></code></pre></figure> <p><strong>DMSCategoryDao.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.model.core.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Lazy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.common.ConfigurationFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.jdbc.OntimizeJdbcDaoSupport</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.services.dms.dao.IDMSCategoryDao</span><span class="o">;</span>

<span class="nd">@Repository</span><span class="o">(</span><span class="s">"DMSCategoryDao"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="nd">@ConfigurationFile</span><span class="o">(</span><span class="n">configurationFile</span> <span class="o">=</span> <span class="s">"dao/DMSCategoryDao.xml"</span><span class="o">,</span> <span class="n">configurationFilePlaceholder</span> <span class="o">=</span> <span class="s">"dao/placeholders.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DMSCategoryDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="kd">implements</span> <span class="nc">IDMSCategoryDao</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC_CATEGORY</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC_CATEGORY"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC_CATEGORY_PARENT</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC_CATEGORY_PARENT"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_CATEGORY_NAME</span> <span class="o">=</span> <span class="s">"CATEGORY_NAME"</span><span class="o">;</span>

<span class="o">}</span></code></pre></figure> <p><strong>DMSDocumentDao.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.model.core.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Lazy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.common.ConfigurationFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.jdbc.OntimizeJdbcDaoSupport</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.services.dms.dao.IDMSDocumentDao</span><span class="o">;</span>

<span class="nd">@Repository</span><span class="o">(</span><span class="s">"DMSDocumentDao"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="nd">@ConfigurationFile</span><span class="o">(</span><span class="n">configurationFile</span> <span class="o">=</span> <span class="s">"dao/DMSDocumentDao.xml"</span><span class="o">,</span> <span class="n">configurationFilePlaceholder</span> <span class="o">=</span> <span class="s">"dao/placeholders.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DMSDocumentDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="kd">implements</span> <span class="nc">IDMSDocumentDao</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_UPDATE_DATE</span> <span class="o">=</span> <span class="s">"UPDATE_DATE"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_UPDATE_BY_ID</span> <span class="o">=</span> <span class="s">"UPDATE_BY_ID"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_DOC_NAME</span> <span class="o">=</span> <span class="s">"DOC_NAME"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_OWNER_ID</span> <span class="o">=</span> <span class="s">"OWNER_ID"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_DOC_DESCRIPTION</span> <span class="o">=</span> <span class="s">"DOC_DESCRIPTION"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_DOC_KEYWORDS</span> <span class="o">=</span> <span class="s">"DOC_KEYWORDS"</span><span class="o">;</span>

<span class="o">}</span></code></pre></figure> <p><strong>DMSDocumentFileDao.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.model.core.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Lazy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.common.ConfigurationFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.jdbc.OntimizeJdbcDaoSupport</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.services.dms.dao.IDMSDocumentFileDao</span><span class="o">;</span>

<span class="nd">@Repository</span><span class="o">(</span><span class="s">"DMSDocumentFileDao"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="nd">@ConfigurationFile</span><span class="o">(</span><span class="n">configurationFile</span> <span class="o">=</span> <span class="s">"dao/DMSDocumentFileDao.xml"</span><span class="o">,</span> <span class="n">configurationFilePlaceholder</span> <span class="o">=</span> <span class="s">"dao/placeholders.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DMSDocumentFileDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="kd">implements</span> <span class="nc">IDMSDocumentFileDao</span><span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC_FILE</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC_FILE"</span><span class="o">;</span>         
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_FILE_NAME</span> <span class="o">=</span> <span class="s">"FILE_NAME"</span><span class="o">;</span>         
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC"</span><span class="o">;</span>         
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_FILE_TYPE</span> <span class="o">=</span> <span class="s">"FILE_TYPE"</span><span class="o">;</span>         
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC_CATEGORY</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC_CATEGORY"</span><span class="o">;</span>         
    
<span class="o">}</span></code></pre></figure> <p><strong>DMSDocumentFileVersionDao.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.model.core.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Lazy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.common.ConfigurationFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.jdbc.OntimizeJdbcDaoSupport</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.services.dms.dao.IDMSDocumentFileVersionDao</span><span class="o">;</span>

<span class="nd">@Repository</span><span class="o">(</span><span class="s">"DMSDocumentFileVersionDao"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="nd">@ConfigurationFile</span><span class="o">(</span><span class="n">configurationFile</span> <span class="o">=</span> <span class="s">"dao/DMSDocumentFileVersionDao.xml"</span><span class="o">,</span> <span class="n">configurationFilePlaceholder</span> <span class="o">=</span> <span class="s">"dao/placeholders.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DMSDocumentFileVersionDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="kd">implements</span> <span class="nc">IDMSDocumentFileVersionDao</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATT_ID_DMS_DOC_FILE_VERSION</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC_FILE_VERSION"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATT_FILE_PATH</span> <span class="o">=</span> <span class="s">"FILE_PATH"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATT_VERSION</span> <span class="o">=</span> <span class="s">"VERSION"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATT_FILE_DESCRIPTION</span> <span class="o">=</span> <span class="s">"FILE_DESCRIPTION"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATT_IS_ACTIVE</span> <span class="o">=</span> <span class="s">"IS_ACTIVE"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATT_FILE_ADDED_DATE</span> <span class="o">=</span> <span class="s">"FILE_ADDED_DATE"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATT_FILE_ADDED_USER_ID</span> <span class="o">=</span> <span class="s">"FILE_ADDED_USER_ID"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATT_ID_DMS_DOC_FILE</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC_FILE"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATT_THUMBNAIL</span> <span class="o">=</span> <span class="s">"THUMBNAIL"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATT_FILE_SIZE</span> <span class="o">=</span> <span class="s">"FILE_SIZE"</span><span class="o">;</span>

<span class="o">}</span></code></pre></figure> <p><strong>DMSDocumentPropertyDao.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.model.core.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Lazy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.common.ConfigurationFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.jdbc.OntimizeJdbcDaoSupport</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.services.dms.dao.IDMSDocumentPropertyDao</span><span class="o">;</span>

<span class="nd">@Repository</span><span class="o">(</span><span class="s">"DMSDocumentPropertyDao"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="nd">@ConfigurationFile</span><span class="o">(</span><span class="n">configurationFile</span> <span class="o">=</span> <span class="s">"dao/DMSDocumentPropertyDao.xml"</span><span class="o">,</span> <span class="n">configurationFilePlaceholder</span> <span class="o">=</span> <span class="s">"dao/placeholders.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DMSDocumentPropertyDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="kd">implements</span> <span class="nc">IDMSDocumentPropertyDao</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC_PROPERTY</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC_PROPERTY"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_DOC_PROPERTY_KEY</span> <span class="o">=</span> <span class="s">"DOC_PROPERTY_KEY"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_DOC_PROPERTY_VALUE</span> <span class="o">=</span> <span class="s">"DOC_PROPERTY_VALUE"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC"</span><span class="o">;</span>

<span class="o">}</span></code></pre></figure> <p><strong>DMSRelatedDocumentDao.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.model.core.dao</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Lazy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.common.ConfigurationFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dao.jdbc.OntimizeJdbcDaoSupport</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.services.dms.dao.IDMSRelatedDocumentDao</span><span class="o">;</span>

<span class="nd">@Repository</span><span class="o">(</span><span class="s">"DMSRelatedDocumentDao"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="nd">@ConfigurationFile</span><span class="o">(</span><span class="n">configurationFile</span> <span class="o">=</span> <span class="s">"dao/DMSRelatedDocumentDao.xml"</span><span class="o">,</span> <span class="n">configurationFilePlaceholder</span> <span class="o">=</span> <span class="s">"dao/placeholders.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DMSRelatedDocumentDao</span> <span class="kd">extends</span> <span class="nc">OntimizeJdbcDaoSupport</span> <span class="kd">implements</span> <span class="nc">IDMSRelatedDocumentDao</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_RELATED_PROPERTY</span> <span class="o">=</span> <span class="s">"ID_DMS_RELATED_PROPERTY"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC_MASTER</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC_MASTER"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">ATTR_ID_DMS_DOC_CHILD</span> <span class="o">=</span> <span class="s">"ID_DMS_DOC_CHILD"</span><span class="o">;</span>

<span class="o">}</span></code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSCategoryDao.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentDao.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileDao.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileVersionDao.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentPropertyDao.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSRelatedDocumentDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSCategoryDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileVersionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentPropertyDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSRelatedDocumentDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> <h4 id="modify-candidateservice-insert-method"> <a href="#modify-candidateservice-insert-method" class="anchor-heading" aria-labelledby="modify-candidateservice-insert-method"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Modify CandidateService insert method </h4> <p>The method of inserting new candidates will be modified so that, when inserting them, they will have a workspace to maintain the files to be uploaded associated with the inserted candidate.</p> <div class="multicolumn"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <div class="btn">Toggle Tree</div> </button> <p><strong>CandidateService.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="o">...</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.exceptions.DmsException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.naming.DMSNaming</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.services.dms.DocumentIdentifier</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.services.dms.DMSCreationHelper</span><span class="o">;</span>
<span class="o">...</span>

<span class="nd">@Service</span><span class="o">(</span><span class="s">"CandidateService"</span><span class="o">)</span>
<span class="nd">@Lazy</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CandidateService</span> <span class="kd">implements</span> <span class="nc">ICandidateService</span> <span class="o">{</span>

  <span class="o">...</span>

  <span class="nd">@Autowired</span>
  <span class="kd">private</span> <span class="nc">DMSCreationHelper</span> <span class="n">dmsHelper</span><span class="o">;</span>

  <span class="o">...</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">EntityResult</span> <span class="nf">candidateInsert</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">attrMap</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">OntimizeJEERuntimeException</span> <span class="o">{</span>

    <span class="k">try</span> <span class="o">{</span>
    <span class="nc">DocumentIdentifier</span> <span class="n">docId</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">dmsHelper</span><span class="o">.</span><span class="na">createDocument</span><span class="o">((</span><span class="nc">String</span><span class="o">)</span> <span class="n">attrMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">CandidateDao</span><span class="o">.</span><span class="na">ATTR_DNI</span><span class="o">));</span>
    <span class="n">attrMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_ID_DMS_DOCUMENT</span><span class="o">,</span> <span class="n">docId</span><span class="o">.</span><span class="na">getDocumentId</span><span class="o">());</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">DmsException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">OntimizeJEERuntimeException</span><span class="o">(</span><span class="s">"ERROR_CREATING_DMS_DOC"</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">daoHelper</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">candidateDao</span><span class="o">,</span> <span class="n">attrMap</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="o">...</span>
<span class="o">}</span></code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSCategoryDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileVersionDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentPropertyDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSRelatedDocumentDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSCategoryDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileVersionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentPropertyDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSRelatedDocumentDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> <h4 id="add-file-manager-rest-controller"> <a href="#add-file-manager-rest-controller" class="anchor-heading" aria-labelledby="add-file-manager-rest-controller"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add File Manager Rest Controller </h4> <div class="multicolumn"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <div class="btn">Toggle Tree</div> </button> <p><strong>DMSNameConverter.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.ws.core.rest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.naming.DMSNaming</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dms.model.OFile</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dms.rest.IDMSNameConverter</span><span class="o">;</span>

<span class="nd">@Service</span><span class="o">(</span><span class="s">"DMSNameConverter"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DMSNameConverter</span> <span class="kd">implements</span> <span class="nc">IDMSNameConverter</span> <span class="o">{</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getFileIdColumn</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_ID_DMS_DOCUMENT_FILE</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getFileNameColumn</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_NAME</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getFileSizeColumn</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_VERSION_FILE_SIZE</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getCategoryIdColumn</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">DMSNaming</span><span class="o">.</span><span class="na">CATEGORY_ID_CATEGORY</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getCategoryNameColumn</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">DMSNaming</span><span class="o">.</span><span class="na">CATEGORY_CATEGORY_NAME</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">OFile</span> <span class="nf">createOFile</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;?,</span> <span class="o">?&gt;</span> <span class="n">params</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">OFile</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OFile</span><span class="o">();</span>
    <span class="n">file</span><span class="o">.</span><span class="na">setId</span><span class="o">((</span><span class="nc">Integer</span><span class="o">)</span> <span class="n">params</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_ID_DMS_DOCUMENT_FILE</span><span class="o">));</span>
    <span class="n">file</span><span class="o">.</span><span class="na">setName</span><span class="o">((</span><span class="nc">String</span><span class="o">)</span> <span class="n">params</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_NAME</span><span class="o">));</span>
    <span class="n">file</span><span class="o">.</span><span class="na">setType</span><span class="o">((</span><span class="nc">String</span><span class="o">)</span> <span class="n">params</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_TYPE</span><span class="o">));</span>
    <span class="n">file</span><span class="o">.</span><span class="na">setSize</span><span class="o">((</span><span class="nc">Integer</span><span class="o">)</span> <span class="n">params</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_VERSION_FILE_SIZE</span><span class="o">));</span>
    <span class="n">file</span><span class="o">.</span><span class="na">setCreationDate</span><span class="o">(((</span><span class="nc">Date</span><span class="o">)</span> <span class="n">params</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_VERSION_FILE_ADDED_DATE</span><span class="o">)).</span><span class="na">getTime</span><span class="o">());</span>
    <span class="n">file</span><span class="o">.</span><span class="na">setDirectory</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">file</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;?&gt;</span> <span class="n">getFileColumns</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;?&gt;</span> <span class="n">columns</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_ID_DMS_DOCUMENT_FILE</span><span class="o">,</span> <span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_NAME</span><span class="o">,</span>
        <span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_TYPE</span><span class="o">,</span> <span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_VERSION_FILE_SIZE</span><span class="o">,</span>
        <span class="nc">DMSNaming</span><span class="o">.</span><span class="na">DOCUMENT_FILE_VERSION_FILE_ADDED_DATE</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;?&gt;</span> <span class="n">getCategoryColumns</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;?&gt;</span> <span class="n">columns</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="nc">DMSNaming</span><span class="o">.</span><span class="na">CATEGORY_ID_CATEGORY</span><span class="o">,</span> <span class="nc">DMSNaming</span><span class="o">.</span><span class="na">CATEGORY_CATEGORY_NAME</span><span class="o">,</span>
        <span class="nc">DMSNaming</span><span class="o">.</span><span class="na">CATEGORY_ID_CATEGORY_PARENT</span><span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span></code></pre></figure> <p><strong>FileManagerRestController.java</strong></p> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.ontimize.projectwiki.ws.core.rest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.ComponentScan</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ontimize.jee.common.services.dms.IDMSService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dms.rest.DMSRestController</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.ontimize.jee.server.dms.rest.IDMSNameConverter</span><span class="o">;</span>

<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/filemanager"</span><span class="o">)</span>
<span class="nd">@ComponentScan</span><span class="o">(</span><span class="n">basePackageClasses</span> <span class="o">=</span> <span class="o">{</span> <span class="n">com</span><span class="o">.</span><span class="na">ontimize</span><span class="o">.</span><span class="na">jee</span><span class="o">.</span><span class="na">common</span><span class="o">.</span><span class="na">services</span><span class="o">.</span><span class="na">dms</span><span class="o">.</span><span class="na">IDMSService</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
    <span class="n">com</span><span class="o">.</span><span class="na">ontimize</span><span class="o">.</span><span class="na">jee</span><span class="o">.</span><span class="na">server</span><span class="o">.</span><span class="na">dms</span><span class="o">.</span><span class="na">rest</span><span class="o">.</span><span class="na">IDMSNameConverter</span><span class="o">.</span><span class="na">class</span> <span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FileManagerRestController</span> <span class="kd">extends</span> <span class="nc">DMSRestController</span><span class="o">&lt;</span><span class="nc">IDMSService</span><span class="o">,</span> <span class="nc">IDMSNameConverter</span><span class="o">&gt;</span> <span class="o">{</span>

  <span class="nd">@Autowired</span>
  <span class="kd">private</span> <span class="nc">IDMSService</span> <span class="n">dmsService</span><span class="o">;</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">IDMSService</span> <span class="nf">getService</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">dmsService</span><span class="o">;</span>
  <span class="o">}</span>

<span class="o">}</span></code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSCategoryDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileVersionDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentPropertyDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSRelatedDocumentDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSCategoryDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileVersionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentPropertyDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSRelatedDocumentDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSNameConverter.java</li> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">FileManagerRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> <h4 id="modify-applicationyml"> <a href="#modify-applicationyml" class="anchor-heading" aria-labelledby="modify-applicationyml"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Modify application.yml </h4> <p>The <strong>application.yml</strong> file will be modified to indicate the path where the dms files will be stored and the engine it will use. <a href="https://ontimize.github.io/docs/v3/basics/autoconfigurators/#dms">In this link</a> you have information about the configuration of the DMS system in the <strong>application.yml</strong> file.</p> <blockquote class="note"> <p>The path specified in the <em>basePath</em> variable must exist before the server is started.</p> </blockquote> <div class="multicolumn"> <div class="multicolumnleft"> <button class="unstyle toggle-tree-btn"> <div class="btn">Toggle Tree</div> </button> <p><strong>application.yml</strong></p> <figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">ontimize</span><span class="pi">:</span>
   <span class="na">dms</span><span class="pi">:</span>
      <span class="na">engine</span><span class="pi">:</span> <span class="s">odms</span>
      <span class="na">basePath</span><span class="pi">:</span> <span class="s">file:/C:/applications/projectwiki/dms</span></code></pre></figure> </div> <div class="multicolumnright jstreeloader collapsed"> <ul> <li data-jstree="{&quot;opened&quot;:true, &quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize-examples <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> api <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ICandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">IUserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-boot <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerApplication.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;selected&quot;:true,&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">application.yml</li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> db <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">templateDB.txt</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> model <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSCategoryDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileVersionDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentPropertyDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSRelatedDocumentDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.java</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> service <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateService.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserService.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> resources <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> dao <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSCategoryDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentFileVersionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSDocumentPropertyDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSRelatedDocumentDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">placeholders.properties</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">RoleServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">ServerPermissionDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserDao.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRoleDao.xml</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki-ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> src <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> main <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> java <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> com <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ontimize <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> projectwiki <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> ws <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> core <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-folder-open.svg&quot;}"> rest <ul> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">CandidateRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">DMSNameConverter.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">FileManagerRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">MainRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">TestRestController.java</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">UserRestController.java</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> </ul> </li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">.gitignore</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">pom.xml</li> <li data-jstree="{&quot;icon&quot;:&quot;https://ontimize.github.io/docs/v3/assets/jstree/fa-file.svg&quot;}">README.md</li> </ul> </li> </ul> </div> </div> <h4 id="add-permissions"> <a href="#add-permissions" class="anchor-heading" aria-labelledby="add-permissions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add permissions </h4> <p>It is necessary to add the permissions required for the role associated with the user to be able to execute REST requests, which are secured. For the example, we will add all the methods and give access to the <em>demo</em> user role.</p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/fileGetContentOfVersion'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/documentGetProperty'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/fileRecoverPreviousVersion'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/documentDeleteProperties'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/documentGetProperties'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/documentGetAllFiles'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/setRelatedDocuments'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/documentAddProperties'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/getRelatedDocument'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/categoryGetForDocument'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/moveFilesToCategory'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/fileVersionQuery'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/documentQuery'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/documentInsert'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/documentUpdate'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/documentGetFiles'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/categoryInsert'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/fileInsert'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/categoryUpdate'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/categoryDelete'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/fileDelete'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/fileGetVersions'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/fileGetContent'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/fileUpdate'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/documentDelete'</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">TSERVER_PERMISSION</span> <span class="p">(</span><span class="n">PERMISSION_NAME</span><span class="p">)</span> <span class="k">VALUES</span><span class="p">(</span><span class="s1">'com.ontimize.jee.server.services.dms.DMSServiceImpl/fileQuery'</span><span class="p">);</span></code></pre></figure> <p>Add all permissions to the user role <em>demo</em>.</p> <figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">INSERT</span>
	<span class="k">INTO</span>
	<span class="k">PUBLIC</span><span class="p">.</span><span class="k">PUBLIC</span><span class="p">.</span><span class="n">TROLE_SERVER_PERMISSION</span> <span class="n">tsp</span> <span class="p">(</span><span class="n">ID_SERVER_PERMISSION</span><span class="p">,</span> <span class="n">ID_ROLENAME</span><span class="p">)</span>
<span class="k">SELECT</span>
	<span class="n">ID_SERVER_PERMISSION</span><span class="p">,</span>
	<span class="p">(</span>
	<span class="k">SELECT</span>
		<span class="n">ID_ROLENAME</span>
	<span class="k">FROM</span>
		<span class="n">TUSER_ROLE</span>
	<span class="k">WHERE</span>
		<span class="n">USER_</span> <span class="o">=</span> <span class="s1">'demo'</span><span class="p">)</span> <span class="k">AS</span> <span class="n">ID_ROLENAME</span>
<span class="k">FROM</span>
	<span class="n">TSERVER_PERMISSION</span> <span class="n">tp</span>
<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">TROLE_SERVER_PERMISSION</span> <span class="n">tsp</span> <span class="k">ON</span>
	<span class="n">tp</span><span class="p">.</span><span class="n">ID_SERVER_PERMISSION</span> <span class="o">=</span> <span class="n">tsp</span><span class="p">.</span><span class="n">ID_SERVER_PERMISSION</span>
<span class="k">WHERE</span>
	<span class="n">tsp</span><span class="p">.</span><span class="n">ID_SERVER_PERMISSION</span> <span class="k">IS</span> <span class="k">NULL</span></code></pre></figure> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
